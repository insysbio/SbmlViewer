!function(e){function t(t){for(var n,m,i=t[0],o=t[1],c=t[2],x=0,r=[];x<i.length;x++)m=i[x],Object.prototype.hasOwnProperty.call(s,m)&&s[m]&&r.push(s[m][0]),s[m]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(p&&p(t);r.length;)r.shift()();return a.push.apply(a,c||[]),l()}function l(){for(var e,t=0;t<a.length;t++){for(var l=a[t],n=!0,i=1;i<l.length;i++){var o=l[i];0!==s[o]&&(n=!1)}n&&(a.splice(t--,1),e=m(m.s=l[0]))}return e}var n={},s={0:0},a=[];function m(t){if(n[t])return n[t].exports;var l=n[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,m),l.l=!0,l.exports}m.m=e,m.c=n,m.d=function(e,t,l){m.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},m.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.t=function(e,t){if(1&t&&(e=m(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(m.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)m.d(l,n,function(t){return e[t]}.bind(null,n));return l},m.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return m.d(t,"a",t),t},m.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},m.p="";var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var p=o;a.push(["Vtdi",1]),l()}({"/FB5":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateContainerSize=function(){var e=document.getElementById("tool-bar").clientHeight+15+"px";document.getElementById("content").style.marginTop=parseInt(e)-13+"px";var t=document.getElementById("sidebarContent");t&&(t.style.top=parseInt(e)-13+"px",t.style.height=document.documentElement.clientHeight-document.getElementById("tool-bar").clientHeight+"px");var l=document.getElementById("mainContent");l&&(l.style.height=document.documentElement.clientHeight-document.getElementById("tool-bar").clientHeight+"px")}},"/Jxb":function(e,t){},"3IJR":function(e,t,l){"use strict";l("iwd1")},"6KVe":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAJzklEQVR42sVaa2wU1xV286Otmn/tH0qlJI0qpRVRRSBKq/xpUqWV+qNSq8giUeXdmd21gWIbqOxi78zsxMbrmTvrB7ENjgiEQJvGEjgB4oIDtoFCFShgg8HYEPzA9uLXev1aG+9zes7stvXOjHd37DW90hWL5z7OuefxnXPuzchYXfuGlee/S3PlP7PyrlwLR45TjNhLsWTWzBI/9IjSGRKhWClAcWQOvrlhzD+tHKk0M8Lbf2DJSxTPfzvj/9ly7M5NFlasAcLagUCvmUPiJSRepjhJt+M3ZQwn+WHOpFmZK9ZYOeGVp0s8z3+HYoU3LA7pBBDlgx5EwpYjPFmPMR7EtWhearTxwhu4x9pxwPPPZHPiBgsnHQUCFlZKeLJOw9o0Sz628M6Xcc+08pCZmflNGyvuADUYwNNLfMKKWoXhpBdg/DTYhgc7/oZvT6LfSBIpoYTEAStPcnHvtDDxx0Jpnc0h1QExi8tvjrYhDlGM0EYzpBb03UKzwltUoXPjbmH/j7BTdufGbN71Fn4D468FQ28D2xjEuQkY8lsd0gGwxe+v0h7E50DMrSZWf7OYdPqyWbK75er1d3wLC/sCweAHsixHEvVgKNQPY9+/3zdYV+Cq5+GQ+paTtIkh4O2kthx+33MrZ4KTzqoNWTFOhoRoh9hlYUmhhSfrgbrPgcDRGKFGWiQciYyPer3NVk4sAC92V8954P/hQJutTMXzxtSJ59dRnNCmtyCowoKCF0XCC0BIkZzG9qB/iNB2WJslC7p7s+KFlNUMjcvKigfMUZHGS4Ijkzae5J+8cmW9vEbtyaJf3inUFILNTWqYAZrQZlJwAPwzNoe4Q23YMUm4t/FV7wSDYVciQobHJuTqo8c/3XfseMPtnod/CYfDhpkJhyNy08Urp3FPDUYBbRAV5CZ0zYgT6Pa0gCV6t5ZUvAtE7UhEwLjHK2/bWz0Ceh5GN0s7pJG8sqrfRiKRfqPMwBy58VzbR5SOZGigEWnVZSKroOBZcJkfR2OiONR9An/bGQwnlgS2v51p1aA2RACPS2oOZSNhhiUDc/7adL7FrLIZdAhWlhzLKnA9qyMN6Re0GrFZKUSDYZ9L0SYaz1+S9cIVi8M1xlYf+h1I9GujzCyCzeTwlZ8jLZoIAGjWMGJ1uE5owgWWdGWxrh+muunM3DwYpHhJR69BMi53rlCZCcNCRpmZmJoGwsldNX1WTmqMC8VzeOcm2MynBjvECaMutnfY3WG2Cx0xO4nb2Ma7PA3NLTtD4XDAKDMfnmg6owFNoDmHlzYpXJiKy79HOcQas0p0FEP6tjFlP1iJC234svU35uLyaxqkjtrMaF6J4gCGjKzpnZmVLRABqGwwRLHldXl5ed/KsPJVr4Gba49XB+LPdpDdMcReSfP3DbnvmOzltzQHBJKy8dLEFxcuH0E3m7IXQxs894/OpbFZLMq4pYCkxSHkwUl5VZwOtV5tfzcWdqy49Q26W0x24WY0Q4yPeCEdGM0Xqn4PkknZAYxMeDzg0t0qSXshTHo1AzK8E+oIFDZum/X59q0gdlK30PXOe38GNbuhMKOSDOLMn6R9makuFggEI/li3S115E0zwpYMzLFVPhq6WBeMRrFpab2Dw+3mYmc7eDQdByBNnLlw5XAoFBpKjvhhma07fGppPqNgFUv4jFihIO4DuDVLGqQR17q+fiRQ9vIOtWQUQkDNwKP9EmEj2TqXb96R1QdPM+LJDLM61wAkt7DCr9PNCKrZg4Gh26ZiJ7rmkNqb2Rwuz8Hjp1iwmVDiAxmQY5nmErwTHiAjqghTnDEVlb6yBowozT02HsUZHQcAANxv3lO6AYZNLjd/8PEoQAOk0PHzFjSMgPF4iytqf7xWjKBk2rvuV6CaUaoIwMSKQRNTVgC2UL8synunFBrj5tmFSIbGm6w9I/Kjx2PybrJ/gtLJN7KYsl3ASI1hRpZGu1F9BbHZnRvXTLXGJyE5cvXo1sJY0kkXCS9iRGJYtZQyZnyM9YSyk1+tBSP9wyNyQdUHPjXaKzk5J3Vu5yt/DtIoMmrsFCPcR/frfhru1+2ZDBRWKkyoJQHYInabS6s2gMeqTO5+O/XdLxaUNYDIkVoAqP50MTEINmErqeihdCJiCO/v2Dhh80Ig8HoqgAiJlqwBRDsAotVBKvVClDmf7/302IRH3lN1cF6nKhIC3e7eVlqBrr4ilTwFQhR52RAFwuq3tUEjGbrX21+9WvUaHpsIwYl3LVPk7t4BeRCc8pFU1xv3eiPZ71WOq9aZigaNe8lLIPKOuM0A7Qtc+7nIKqLfAfeovNt1YFZr2CQMh9dJQ0IEw46kWpjAE22+/K9ZilWF8VwsjMdLFlhYN7Ea93ibV1L9GB4dX9xTfXBe7woBVKFnO1exOaZOKbep2Tl5l1g3r1ZPiN6jiRU2G1e6WS/VxTKmYbAbGZet71U8BIJ1DFvqzC4VN8z5/T8xmrs3X74m66W628FRxBcfIJHXqbLfffBoiKS62eT0jMzWHp7TKT5ASirdRZxIxcXqFR/yhdpRzcFw0mcpl4PgFI4v+v0pbfjp2Vb9chAn3YMw/afg0retpBx0oOG0rFcOstidb+oW6GyceFSvQJcn1BSGUyiwISMqiWIWeNsGkoDP9SCNGaMFutarNxEOtAU6xzIFOmzA4ct6JVNA3smmi1+dTlYtRNWiWemeWZEkqpPYvb20YvNK1An3unG3W84pqXyiKZly4gDSmrCITXPluepk6z9F7MZzFz9KVvm43tWdl8WK2RaHmE3zVS8CThyCP88bLWIjE1v3Vk1rgZT4wWnkJb1fxJK9hSP1utcKLJn8pKnl/GIgkOw0R+CfLUZdrGIT/oDc8tUNOVtHEkgTgF99yveKCDAggbZlbqsWtpa4Tk54p9Me4numZuT6hlMam/jfRQ+5mGOvNnafaGXKnqcSXL2ha/7wxBdnEKhWE8fg3Ok5n3wWcCJfqBlN69Xb0ntEvO4yqdRsqfcA437YeO7SnVHPpMcfCERCoeQXOzgmEAxithf58so13y6y35foMhSYuLDiy9ClaobXXcmupymHNJRfXnsLAPE05gz3egeUbM4DYIYdf3c97Jcvt3fKn/z9vJwHYyEAHDOzia+nbWCvFp5fn7YHA3jdha45tQcDJBy9nBGn/vtgAH7j34w8GMBybtoeDCx9woHPKmgAorV+wgEacGxNnnCoIwAMDWiONCqPasDw0/WoBvDhMwvnfBP3eKovhTDyBGdQB8x0RJ85ScaeOWFZB+bCodRqotin3VCHIadZl8WUvWqClNNkF3gzI540MeU9oCa+rOLyCHYgdt7EOHvM9rJTFIyhGWkLzqF4aV067ODfcUDRkeOzvi8AAAAASUVORK5CYII="},"834V":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l("kiQV");t.default={name:"ToolBar",props:["TTList","ListTTParametrs","stateTTparametrs","currentTTName","fileName"],data:function(){return{isSpin:!1,file:null,version:n.version,homepage:"http://sv.insysbio.com"}},mounted:function(){var e=this;this.$root.$on("startSpin",function(){e.isSpin=!0}),this.$root.$on("stopSpin",function(){e.isSpin=!1}),this.dragNdropInit(),document.title=this.fileName},methods:{onRefresh:function(){var e=this;this.isSpin=!0,this.$nextTick(function(){e.$emit("onOpenFile",e.file,!0)})},onChooseFileInput:function(e){var t=this;e.preventDefault();var l=document.getElementById("file").files[0];l&&(this.file=l,this.isSpin=!0,this.$nextTick(function(){t.$emit("onOpenFile",l)}))},toogleParam:function(e){this.stateTTparametrs[e]=!this.stateTTparametrs[e]},onSelectTT:function(){var e=this;this.isSpin=!0,this.$nextTick(function(){e.$emit("onChangeTT",e.currentTTName)})},dragNdropInit:function(){var e=this;document.addEventListener("dragover",function(e){e.preventDefault()}),document.addEventListener("dragstart",function(e){e.preventDefault()}),document.addEventListener("drop",function(t){t.preventDefault();var l=e.file=t.dataTransfer.files[0];e.$emit("onOpenFile",l)})}}}},E7vH:function(e,t,l){"use strict";l.d(t,"a",function(){return n}),l.d(t,"b",function(){return s});var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.errorMessage,expression:"errorMessage"}],staticClass:"w3-row",attrs:{id:"errorContainer"}},[t("div",{staticClass:"w3-panel w3-col l12 m12 s12 w3-text-red w3-center w3-large w3-padding",attrs:{id:"errorMess"}},[this._v("\n    "+this._s(this.errorMessage)+"\n  ")])])},s=[]},FyfT:function(e,t){},GBTA:function(e,t,l){"use strict";l.d(t,"a",function(){return n}),l.d(t,"b",function(){return s});var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"content"}},[l("ErrorContainer",{staticClass:"sv-full-width"}),e._v(" "),l("div",{staticClass:"sv-full-width",attrs:{id:"container"}},[e.displayContent?l("div",{directives:[{name:"dom",rawName:"v-dom",value:e.displayContent,expression:"displayContent"}],staticClass:"w3-container w3-border-color-blue-grey",class:{"main-container-part":e.isSideOpen},attrs:{id:"mainContent"}}):e._e(),e._v(" "),e.displayContent?e._e():l("div",{staticClass:"w3-container w3-center w3-large w3-text-grey w3-margin"},[e._v("Drug'n'drop SBML file here.")]),e._v(" "),l("AnnotationSide",{directives:[{name:"show",rawName:"v-show",value:e.isSideOpen,expression:"isSideOpen"}],staticClass:"side-container",attrs:{fileContent:e.fileContent},on:{closeAnnotation:function(t){e.isSideOpen=!1}}})],1)],1)},s=[]},Hz1T:function(e,t,l){"use strict";l.d(t,"a",function(){return n}),l.d(t,"b",function(){return s});var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"w3-container"},[t("div",{staticClass:"close-sidebar-btn",on:{click:this.onAnnotationClose}},[t("img",{attrs:{src:l("6KVe")}})]),this._v(" "),this.content?this._e():t("div",[this._v("Nothing display")]),this._v(" "),t("div",{directives:[{name:"dom",rawName:"v-dom",value:this.content,expression:"content"}],attrs:{id:"sidebarContent"}})])},s=[]},I77X:function(e,t,l){"use strict";l.r(t);var n=l("Xl2i"),s=l.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return n[e]})}(a);t.default=s.a},IPUn:function(e,t,l){"use strict";l.r(t);var n=l("zZWu"),s=l("u5dd");for(var a in s)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return s[e]})}(a);l("mJaa");var m=l("KHd+"),i=Object(m.a)(s.default,n.a,n.b,!1,null,null,null);t.default=i.exports},KokU:function(e,t,l){"use strict";l.r(t);var n=l("E7vH"),s=l("Yzcs");for(var a in s)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return s[e]})}(a);l("pkMC");var m=l("KHd+"),i=Object(m.a)(s.default,n.a,n.b,!1,null,null,null);t.default=i.exports},L3SL:function(e,t,l){"use strict";l("FyfT")},MAjG:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(l("MZxC")),s=i(l("KokU"));l("q+rZ"),l("SJMd");var a=l("/FB5"),m=l("MkwQ");function i(e){return e&&e.__esModule?e:{default:e}}t.default={name:"ModelArea",props:["displayContent","fileContent"],data:function(){return{isSideOpen:!1}},components:{AnnotationSide:n.default,ErrorContainer:s.default},mounted:function(){var e=this;this.$root.$on("resetContent",function(){e.isSideOpen=!1,setTimeout(function(){e.$nextTick(function(){e.addEventListenerAnnotationElement(),MathJax.Hub.Queue(["Typeset",MathJax.Hub]),(0,m.prettifyAnnotation)("mainContent")})},100)}),(0,a.updateContainerSize)(),window.addEventListener("resize",a.updateContainerSize)},created:function(){var e=this;setTimeout(function(){e.$nextTick(function(){e.displayContent&&(e.addEventListenerAnnotationElement(),MathJax.Hub.Queue(["Typeset",MathJax.Hub]),(0,m.prettifyAnnotation)("mainContent"),(0,a.updateContainerSize)(),window.addEventListener("resize",a.updateContainerSize))})},100)},methods:{addEventListenerAnnotationElement:function(){var e=this;this.$nextTick(function(){(0,a.updateContainerSize)();for(var t=document.querySelectorAll(".sbml-id[id]"),l=0;l<t.length;l++)t[l].addEventListener("click",function(t){e.isSideOpen=!0;var l=document.getElementById("mainContent").firstElementChild;e.$root.$emit("onOpenAnnotation",t.target.id,l)});for(var n=document.querySelectorAll("tr.sv-hidden"),s=function(e){var t=n[e],l=document.createElement("i");l.setAttribute("class","sv-hide-button sv-info-symbol"),t.previousSibling.firstElementChild.appendChild(l),l.addEventListener("click",function(){t.classList.toggle("sv-hidden")})},m=0;m<n.length;m++)s(m);document.querySelectorAll("tr.sbml-event").forEach(function(e){e.nextSibling.classList.toggle("sv-hidden")})})}},watch:{displayContent:function(){this.isSideOpen=!1}}}},MEaT:function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n\x3c!--\nCopyright 2016-2021 InSysBio, LLC\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n--\x3e\n\x3c!-- INFO\nDescription: Creating representation of whole sbml as systems of equations:\nSource files: SBML L2 V1-5\nmodes:\n  - idOrName\n  - math\n  - const/diff-init/differential-equations\n\nAuthor: Evgeny Metelkin\nProject-page: http://sv.insysbio.com\n--\x3e\n<xsl:stylesheet version="1.0"\n  xmlns="http://www.w3.org/1999/xhtml"\n  xmlns:xhtml="http://www.w3.org/1999/xhtml"\n  xmlns:l2v1="http://www.sbml.org/sbml/level2"\n  xmlns:l2v2="http://www.sbml.org/sbml/level2/version2"\n  xmlns:l2v3="http://www.sbml.org/sbml/level2/version3"\n  xmlns:l2v4="http://www.sbml.org/sbml/level2/version4"\n  xmlns:l2v5="http://www.sbml.org/sbml/level2/version5"\n  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"\n  xmlns:mml="http://www.w3.org/1998/Math/MathML"\n  exclude-result-prefixes="mml l2v5 l2v4 l2v3 l2v2 l2v1">\n\n  \x3c!-- GLOBAL KEYS --\x3e\n  <xsl:key name="idKey" match="*" use="@id"/>\n  <xsl:key name="variableKey" match="*" use="@variable"/>\n\n  \x3c!-- PARAMETERS --\x3e\n  <xsl:param name="useNames">false</xsl:param> \x3c!-- use names instead of id in equations --\x3e\n  <xsl:param name="correctMathml">false</xsl:param> \x3c!-- use correction in MathML (for simbio) always on currently--\x3e\n  <xsl:param name="equationsOff">false</xsl:param> \x3c!-- do not show equations --\x3e\n\n  \x3c!-- top --\x3e\n  <xsl:template match="/">\n    <xsl:apply-templates mode="math"/>\n  </xsl:template>\n\n  \x3c!-- SBML --\x3e\n  <xsl:template match="*[local-name()=\'sbml\']" mode="math">\n    <div class="sbml-element sbml-sbml sv-container sv-mode-math">\n      <h1 class="sv-header">SBML level <xsl:value-of select="@level"/> version <xsl:value-of select="@version"/></h1>\n      <div class="sv-content">\n        <xsl:apply-templates select="*[local-name()=\'model\']" mode="math"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- model --\x3e\n  <xsl:template match="*[local-name()=\'model\']" mode="math">\n    <div class="sbml-element sbml-model sv-container">\n      <h2 class="sv-header">Model</h2>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*"/>\n\n        <xsl:if test="count(//*[local-name()=\'functionDefinition\'])">\n          <xsl:call-template name="functions"/>\n        </xsl:if>\n\n        <xsl:if test="count(\n          //*[local-name()=\'model\']/*/*[local-name()=\'parameter\'][not(key(\'variableKey\',@id))] |\n          //*[local-name()=\'compartment\'][not(key(\'variableKey\',@id))] |\n          //*[local-name()=\'species\' and @boundaryCondition=\'true\'][not(key(\'variableKey\',@id))]\n          )">\n          <xsl:call-template name="constants"/>\n        </xsl:if>\n\n        <xsl:if test="count(\n          //*[local-name()=\'assignmentRule\'] |\n          //*[local-name()=\'reaction\']\n          )">\n          <xsl:call-template name="explicit-rules"/>\n        </xsl:if>\n\n        <xsl:if test="count(//*[local-name()=\'algebraicRule\'])">\n          <xsl:call-template name="implicit-rules"/>\n        </xsl:if>\n\n        <xsl:if test="count(\n          //*[local-name()=\'species\' and not(@boundaryCondition=\'true\')] |\n          //*[local-name()=\'initialAssignment\']\n          )">\n          <xsl:call-template name="init"/>\n        </xsl:if>\n\n        <xsl:if test="count(\n          //*[local-name()=\'species\' and not(@boundaryCondition=\'true\')] |\n          //*[local-name()=\'rateRule\']\n          )">\n          <xsl:call-template name="differential-equations"/>\n        </xsl:if>\n\n        <xsl:if test="count(//*[local-name()=\'event\'])">\n          <xsl:call-template name="events"/>\n        </xsl:if>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- @attributes --\x3e\n  <xsl:template match="@*">\n    <p>\n      <xsl:attribute name="class">sbml-attribute sbml-<xsl:value-of select="local-name()"/> sv-container</xsl:attribute>\n      <span class="sbml-attribute-name"><xsl:value-of select="local-name()"/></span>: <span class="sbml-attribute-value"><xsl:value-of select="."/></span>\n    </p>\n  </xsl:template>\n\n  \x3c!-- idOrName mode --\x3e\n  <xsl:template match="@id" mode="idOrName">\n      <xsl:if test="$useNames=\'true\' and count(./../@name)>0">[<xsl:value-of select="./../@name"/>]</xsl:if>  \x3c!-- for simbio only--\x3e\n      <xsl:if test="$useNames=\'true\' and count(./../@name)=0">[no name]</xsl:if>\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="."/></xsl:if>\n  </xsl:template>\n\n  \x3c!-- functions --\x3e\n  <xsl:template name="functions">\n    <div class="sbml-element sbml-listOf sbml-listOfFunctionDefinitions sv-container">\n      <h2 class="sv-header">Functions:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'functionDefinition\']"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'functionDefinition\']">\n    <p class="sbml-element sbml-functionDefinition sv-mml">\n      <xsl:element name="math" namespace="http://www.w3.org/1998/Math/MathML">\n        <apply>\n          <equivalent/>\n            <apply>\n                <ci><xsl:apply-templates select="@id" mode="idOrName"/></ci>\n                <xsl:copy-of select="mml:math/mml:lambda/mml:bvar/mml:*"/>\n            </apply>\n            <xsl:copy-of select="mml:math/mml:lambda/*[local-name()!=\'bvar\']"/>\n        </apply>\n      </xsl:element>\n    </p>\n  </xsl:template>\n\n  \x3c!-- constants --\x3e\n  <xsl:template name="constants">\n    <div class="sbml-mixed sv-container">\n      <h2 class="sv-header">Constants:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'model\']/*/*[local-name()=\'parameter\' and not(key(\'variableKey\',@id))]" mode="const"/>\n        <xsl:apply-templates select="//*[local-name()=\'compartment\' and not(key(\'variableKey\',@id))]" mode="const"/>\n        <xsl:apply-templates select="//*[local-name()=\'species\' and @boundaryCondition=\'true\' and not(key(\'variableKey\',@id))]" mode="const"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'parameter\']" mode="const">\n    <p class="sbml-element sbml-parameter">\n      <xsl:apply-templates select="@id" mode="idOrName"/>\n      = <xsl:value-of select="@value"/><xsl:if test="not(@value)">?</xsl:if>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'compartment\']" mode="const">\n    <p class="sbml-element sbml-compartment">\n      <xsl:apply-templates select="@id" mode="idOrName"/>\n      = <xsl:value-of select="@size"/><xsl:if test="not(@size)">?</xsl:if>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and @initialAmount]" mode="const">\n    <p class="sbml-element sbml-species">\n      <xsl:apply-templates select="@id" mode="idOrName"/> = <xsl:value-of select="@initialAmount"/><xsl:if test="@hasOnlySubstanceUnits!=\'true\' and key(\'idKey\',@compartment)/@spatialDimensions!=\'0\'">/<xsl:value-of select="@compartment"/></xsl:if>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and @initialConcentration]" mode="const">\n    <p class="sbml-element sbml-species">\n      <xsl:apply-templates select="@id" mode="idOrName"/> = <xsl:value-of select="@initialConcentration"/><xsl:if test="@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\'">*<xsl:value-of select="@compartment"/></xsl:if>\n    </p>\n  </xsl:template>\n\n  \x3c!-- explicit rules --\x3e\n  <xsl:template name="explicit-rules">\n    <div class="sbml-mixed sv-container">\n      <h2 class="sv-header">Explicit rules:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'assignmentRule\']"/>\x3c!-- ???  --\x3e\n        <xsl:apply-templates select="//*[local-name()=\'reaction\']"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'assignmentRule\']">\n    <p class="sbml-element sbml-assignmentRule">\n      <xsl:if test="key(\'idKey\',@variable)"><xsl:apply-templates select="key(\'idKey\',@variable)/@id" mode="idOrName"/></xsl:if>\n      <xsl:if test="not(key(\'idKey\',@variable))"><span class="sv-id-lost"><xsl:value-of select="@variable"/></span></xsl:if>\n      = <xsl:apply-templates select="mml:math"/>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'reaction\']">\n    <p class="sbml-element sbml-reaction">\n      <xsl:apply-templates select="@id" mode="idOrName"/>\n      = <xsl:apply-templates select="*[local-name()=\'kineticLaw\']/mml:math"/>\n      <xsl:if test="*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']/*[local-name()=\'parameter\']">\n        <div class="sbml-element sbml-listOf sbml-listOfParameters sv-container">\n          <p>where</p>\n          <xsl:apply-templates select="*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']/*[local-name()=\'parameter\']" mode="const"/>\n        </div>\n      </xsl:if>\n    </p>\n  </xsl:template>\n\n  \x3c!-- implicit rules --\x3e\n  <xsl:template name="implicit-rules">\n    <div class="sbml-mixed sv-container">\n      <h2 class="sv-header">Implicit rules:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'algebraicRule\']"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'algebraicRule\']">\n    <p class="sbml-element sbml-algebraicRule sv-container">\n      0 = <xsl:apply-templates select="mml:math"/>\n    </p>\n  </xsl:template>\n\n  \x3c!-- diff-init --\x3e\n  <xsl:template name="init">\n    <div class="sbml-mixed sv-container">\n      <h2 class="sv-header">Initiate at start:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'species\' and not(@boundaryCondition=\'true\')]" mode="diff-init"/>\n        <xsl:apply-templates select="//*[local-name()=\'initialAssignment\']" mode="diff-init"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'initialAssignment\']" mode="diff-init">\n    <p class="sbml-element sbml-initialAssignment sv-container">\n      <xsl:if test="key(\'idKey\',@symbol)"><xsl:apply-templates select="key(\'idKey\',@symbol)/@id" mode="idOrName"/></xsl:if>\n      <xsl:if test="not(key(\'idKey\',@symbol))"><span class="sv-id-lost"><xsl:value-of select="@symbol"/></span></xsl:if>\n      &#8592;\n      <xsl:apply-templates select="mml:math"/>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and not(@boundaryCondition=\'true\') and not(@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]" mode="diff-init">\n    <p class="sbml-element sbml-species sv-container">\n      <xsl:apply-templates select="@id" mode="idOrName"/> &#8592;\n      <xsl:if test="@initialConcentration">\n        <xsl:value-of select="@initialConcentration"/>\n      </xsl:if>\n      <xsl:if test="@initialAmount">\n        <xsl:value-of select="@initialAmount"/> / <xsl:apply-templates select="key(\'idKey\',@compartment)/@id" mode="idOrName"/>\n      </xsl:if>\n      <xsl:if test="not(@initialConcentration or @initialAmount)">?</xsl:if>\n    </p>\n  </xsl:template>\n\n    <xsl:template match="*[local-name()=\'species\' and not(@boundaryCondition=\'true\') and ( @hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]" mode="diff-init">\n      <p class="sbml-element sbml-species sv-container">\n        <xsl:apply-templates select="@id" mode="idOrName"/> &#8592;\n            <xsl:if test="@initialAmount">\n              <xsl:value-of select="@initialAmount"/>\n            </xsl:if>\n            <xsl:if test="@initialConcentration">\n              <xsl:value-of select="@initialConcentration"/> &#8901; <xsl:apply-templates select="key(\'idKey\',@compartment)/@id" mode="idOrName"/>\n            </xsl:if>\n            <xsl:if test="not(@initialConcentration or @initialAmount)">?</xsl:if>\n      </p>\n    </xsl:template>\n\n  \x3c!-- differential-equations --\x3e\n  <xsl:template name="differential-equations">\n    <div class="sbml-mixed sv-container">\n      <h2 class="sv-header">Differential equations:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'species\' and not(@boundaryCondition=\'true\')]" mode="differential-equations"/>\n        <xsl:apply-templates select="//*[local-name()=\'rateRule\']" mode="differential-equations"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and not(@boundaryCondition=\'true\')]" mode="differential-equations">\n    <p class="sbml-element sbml-species sv-container">\n      (<xsl:if test="not(@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')"><xsl:apply-templates select="key(\'idKey\',@compartment)/@id" mode="idOrName"/> &#8901; </xsl:if>\n        <xsl:apply-templates select="@id" mode="idOrName"/>)\' =\n      <xsl:element name="math" namespace="http://www.w3.org/1998/Math/MathML">\n        <apply>\n          <plus/>\n          <xsl:apply-templates select="//*[local-name()=\'reaction\']/*/*[local-name()=\'speciesReference\' and @species=current()/@id]" mode="differential-equations"/>\n          <xsl:if test="count(//*[local-name()=\'reaction\']/*/*[local-name()=\'speciesReference\' and @species=current()/@id])=0"><cn>0</cn></xsl:if>\n        </apply>\n      </xsl:element>\n    </p>\n  </xsl:template>\n\n    <xsl:template match="*[local-name()=\'listOfProducts\']/*[local-name()=\'speciesReference\' and not(@stoichiometry!=\'1\')]" mode="differential-equations">\n        <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">\n          <xsl:apply-templates select="../../@id" mode="idOrName"/>\n        </xsl:element>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'listOfReactants\']/*[local-name()=\'speciesReference\' and not(@stoichiometry!=\'1\')]" mode="differential-equations">\n      <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n        <minus/>\n        <ci><xsl:apply-templates select="../../@id" mode="idOrName"/></ci>\n      </xsl:element>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'listOfProducts\']/*[local-name()=\'speciesReference\' and @stoichiometry!=\'1\']" mode="differential-equations">\n      <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n        <times/>\n        <cn><xsl:value-of select="@stoichiometry"/></cn>\n        <ci><xsl:apply-templates select="../../@id" mode="idOrName"/></ci>\n      </xsl:element>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'listOfReactants\']/*[local-name()=\'speciesReference\' and @stoichiometry!=\'1\']" mode="differential-equations">\n      <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n        <minus/>\n        <apply>\n          <times/>\n          <cn><xsl:value-of select="@stoichiometry"/></cn>\n          <ci> <xsl:apply-templates select="../../@id" mode="idOrName"/></ci>\n        </apply>\n      </xsl:element>\n    </xsl:template>\n\n  <xsl:template match="*[local-name()=\'rateRule\']" mode="differential-equations">\n    <p class="sbml-element sbml-rateRule sv-container">\n      (<xsl:value-of select="@variable"/>)\' =\n      <xsl:element name="math" xmlns="http://www.w3.org/1998/Math/MathML">\n          <xsl:apply-templates select="mml:math/mml:*"/>\n      </xsl:element>\n    </p>\n  </xsl:template>\n\n  \x3c!-- events --\x3e\n  <xsl:template name="events">\n    <div class="sbml-element sbml-listOf sbml-listOfEvents sv-container">\n      <h2 class="sv-header">Events:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'event\']"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'event\']">\n    <div class="sbml-element sbml-event sv-content">\n      When <xsl:apply-templates select="*[local-name()=\'trigger\']/mml:math"/>\n      <xsl:if test="*[local-name()=\'delay\']"> after delay <xsl:apply-templates select="*[local-name()=\'delay\']/mml:math"/></xsl:if>\n      <xsl:apply-templates select="*[local-name()=\'listOfEventAssignments\']/*[local-name()=\'eventAssignment\']"/>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'eventAssignment\']">\n    <p class="sbml-element sbml-eventAssignment sv-container">\n      <xsl:if test="key(\'idKey\',@variable)"><xsl:apply-templates select="key(\'idKey\',@variable)/@id" mode="idOrName"/></xsl:if>\n      <xsl:if test="not(key(\'idKey\',@variable))"><span class="sv-id-lost"><xsl:value-of select="@variable"/></span></xsl:if>\n      &#8592; <xsl:apply-templates select="mml:math"/>\n    </p>\n  </xsl:template>\n\n  \x3c!-- BEGIN OF mml --\x3e\n  \x3c!-- correct for max function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside max --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- correct for min function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside min --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- use id or names for equations and normalize space --\x3e\n  <xsl:template match="mml:ci">\n    <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:if test="$useNames=\'true\' and key(\'idKey\',normalize-space(text()))/@name">[<xsl:value-of select="key(\'idKey\',normalize-space(text()))/@name"/>]</xsl:if>\n      <xsl:if test="$useNames=\'true\' and not(key(\'idKey\',normalize-space(text()))/@name)">[no name]</xsl:if>\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="normalize-space(text())"/></xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of e-notation for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'e-notation\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text()[1])"/><xsl:if test="normalize-space(text()[2])!=\'0\'">e<xsl:copy-of select="normalize-space(text()[2])"/>\n      </xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of integer for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'integer\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text())"/>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- just copy mml or not --\x3e\n  <xsl:template match="mml:math">\n    <xsl:if test="$equationsOff=\'true\'">= Equations are hidden =</xsl:if>\n    <xsl:if test="not($equationsOff=\'true\')">\n      <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n    </xsl:if>\n  </xsl:template>\n\n  <xsl:template match="mml:*">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n  </xsl:template>\n\n</xsl:stylesheet>\n'},MZxC:function(e,t,l){"use strict";l.r(t);var n=l("Hz1T"),s=l("w7j0");for(var a in s)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return s[e]})}(a);l("L3SL");var m=l("KHd+"),i=Object(m.a)(s.default,n.a,n.b,!1,null,null,null);t.default=i.exports},MkwQ:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prettifyAnnotation=function(e){for(var t=document.getElementById(e).getElementsByClassName("sv-raw-xml"),l=0;l<t.length;l++){var a=t[l].innerHTML;t[l].innerHTML=n(s.xml(a))}window.PR.prettyPrint()};var n=l("sXVu"),s=l("R1Kr").pd},O0EN:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readXmlUpload=function(e,t){var l=new FileReader;l.onload=function(){try{var e=(new DOMParser).parseFromString(l.result,"application/xml");t(null,e)}catch(e){t(e,null)}},l.readAsText(e)}},OOXv:function(e,t,l){"use strict";l.d(t,"a",function(){return n}),l.d(t,"b",function(){return s});var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"app"}},[l("ToolBar",{attrs:{fileName:e.fileName,currentTTName:e.currentTTName,TTList:e.TTList,ListTTParametrs:e.ListTTParametrs,stateTTparametrs:e.stateTTparametrs},on:{onOpenFile:e.loadFile,onChangeTT:e.toogleTT}}),e._v(" "),l("ModelArea",{attrs:{displayContent:e.displayContent,fileContent:e.fileContent}})],1)},s=[]},Pf3K:function(e,t,l){"use strict";l.r(t);var n=l("OOXv"),s=l("I77X");for(var a in s)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return s[e]})}(a);l("XEBz"),l("ZDRk"),l("ujnC"),l("3IJR");var m=l("KHd+"),i=Object(m.a)(s.default,n.a,n.b,!1,null,null,null);t.default=i.exports},QUuq:function(e,t,l){"use strict";l("pgp6")},TOOt:function(e,t,l){"use strict";l.r(t);var n=l("MAjG"),s=l.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return n[e]})}(a);t.default=s.a},Vtdi:function(e,t,l){"use strict";var n=a(l("oCYn")),s=a(l("Pf3K"));function a(e){return e&&e.__esModule?e:{default:e}}n.default.config.productionTip=!1,new n.default({el:"#app",components:{App:s.default},template:"<App/>"})},Xl2i:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(l("GQeE")),s=i(l("IPUn")),a=i(l("bgV5")),m=l("O0EN");function i(e){return e&&e.__esModule?e:{default:e}}var o=new window.DOMParser,c=l("srgb")(o);t.default={name:"App",data:function(){return{TTList:{},currentTTName:null,currentTT:{},ListTTParametrs:{},stateTTparametrs:{},fileUrl:null,fileName:"No file selected.",displayContent:null,fileContent:""}},mounted:function(){var e=this,t=document.getElementById("sv-hidden-content"),l=document.createElement("div");""!==t.innerHTML&&(l.innerHTML=t.innerHTML,t.innerHTML="",this.displayContent=l),this.checkFileByURL()&&(this.$root.$emit("startSpin"),this.$nextTick(function(){e.loadFile()}))},components:{ToolBar:s.default,ModelArea:a.default},methods:{loadFile:function(e){var t=this,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&this.fileUrl&&(this.fileUrl=null),this.$root.$emit("onClearErr"),l||(this.currentTTName=null,this.stateTTparametrs={}),this.currentTT={},this.ListTTParametrs={},this.readFile(e,function(e){t.fileContent=e,t.getTTData(e)&&t.setDataForDisplay(e),t.$root.$emit("stopSpin")})},readFile:function(e,t){var l=this;if(this.fileUrl){this.fileName=this.fileUrl.match(/[_-\w]+.xml/)[0];var n=new XMLHttpRequest;n.open("GET",this.fileUrl,!0),n.send(),n.onreadystatechange=function(){200===n.status&&4===n.readyState&&t(n.responseXML),200!==n.status&&0!==n.status&&l.$root.$emit("onThrowError","Can not read file")}}else this.fileName=e.name,(0,m.readXmlUpload)(e,function(e,n){e&&l.$root.$emit("onThrowError","Can not read file"),t(n)})},getTTData:function(e){var t=this;return this.TTList=this.getListTT(e),0!==(0,n.default)(this.TTList).length?(this.currentTT=this.getCurrentTT(),this.ListTTParametrs=this.TTList.find(function(e){return e.name===t.currentTTName}).parameters,this.setStateTTParametrs(),!0):(this.$root.$emit("onThrowError","Incorrect level"),!1)},setDataForDisplay:function(e){var t=this;this.displayContent=null,this.$nextTick(function(){var l,n=t.transformDocument(e,t.currentTT.xslt),s=n&&n.children[0].outerHTML;if(!n||(l=s).match(/= \?\?\?/)||l.match(/This page contains the following errors/))return t.$root.$emit("onThrowError","Incorrect XML"),!1;t.$root.$emit("resetContent"),t.displayContent=n.children[0]})},checkFileByURL:function(){var e=window.location.search.substring(1).split("&");return 0!==e.length&&""!==e[0]?(this.fileUrl=e[0],!0):(this.fileUrl=null,!1)},getListTT:function(e){var t=e.getElementsByTagName("sbml"),l=t&&t[0]&&t[0].getAttribute("level");return l?c.filter(function(e){return e.level===l&&"sbml2element"!==e.name&&"sbml3element"!==e.name}):(this.$root.$emit("onThrowError","Incorrect level"),{})},getCurrentTT:function(){var e=this;return this.currentTTName?this.TTList.filter(function(t){return t.name===e.currentTTName})[0]||this.TTList[0]:(this.currentTTName=this.TTList[0].name,this.TTList[0])},setStateTTParametrs:function(){var e=this;0!==(0,n.default)(this.ListTTParametrs).length?this.ListTTParametrs.forEach(function(t,l){e.stateTTparametrs[t]=e.stateTTparametrs&&e.stateTTparametrs[t]||!1}):this.stateTTparametrs={}},transformDocument:function(e,t){try{var l=new XSLTProcessor;l.importStylesheet(t),l.setParameter(null,"transform",this.currentTT.name),l.setParameter(null,"transform2","sbml"+this.currentTT.level+"element");var n=this.ListTTParametrs;for(var s in n){var a=n[s];l.setParameter(null,a,this.stateTTparametrs[a])}return l.transformToFragment(e,document)}catch(e){return this.$root.$emit("onThrowError","Fail transform document"),console.log(e),null}},toogleTT:function(e){this.currentTTName=e,this.getTTData(this.fileContent)&&this.setDataForDisplay(this.fileContent),this.$root.$emit("stopSpin")}},watch:{fileName:function(e,t){document.title=e}}}},Yzcs:function(e,t,l){"use strict";l.r(t);var n=l("jM5Q"),s=l.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return n[e]})}(a);t.default=s.a},ZDRk:function(e,t,l){"use strict";l("yjXX")},aDji:function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n\x3c!--\nCopyright 2016-2021 InSysBio, LLC\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n--\x3e\n\x3c!-- INFO\nDescription: Creating representation of whole sbml as systems of equations:\nSource files: SBML L3 V1-2\nmodes:\n  - idOrName\n  - math\n  - const/diff-init/differential-equations\n\nAuthor: Evgeny Metelkin\nProject-page: http://sv.insysbio.com\n--\x3e\n<xsl:stylesheet version="1.0"\n  xmlns="http://www.w3.org/1999/xhtml"\n  xmlns:xhtml="http://www.w3.org/1999/xhtml"\n  xmlns:l3v1="http://www.sbml.org/sbml/level3/version1/core"\n  xmlns:l3v2="http://www.sbml.org/sbml/level3/version2/core"\n  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"\n  xmlns:mml="http://www.w3.org/1998/Math/MathML"\n  exclude-result-prefixes="mml xhtml l3v2 l3v1">\n\n  \x3c!-- GLOBAL KEYS --\x3e\n  <xsl:key name="idKey" match="*" use="@id"/>\n  <xsl:key name="variableKey" match="*" use="@variable"/>\n\n  \x3c!-- PARAMETERS --\x3e\n  <xsl:param name="useNames">false</xsl:param> \x3c!-- use names instead of id in equations --\x3e\n  <xsl:param name="correctMathml">false</xsl:param> \x3c!-- use correction in MathML (for simbio) always on currently--\x3e\n  <xsl:param name="equationsOff">false</xsl:param> \x3c!-- do not show equations --\x3e\n\n  \x3c!-- top --\x3e\n  <xsl:template match="/">\n    <div id="top">\n      <xsl:apply-templates mode="math"/>\n    </div>\n  </xsl:template>\n\n  \x3c!-- SBML --\x3e\n  <xsl:template match="*[local-name()=\'sbml\']" mode="math">\n    <div class="sv-sbml-container sv-mode-table">\n      <h1 class="sv-sbml-header">SBML level <xsl:value-of select="@level"/> version <xsl:value-of select="@version"/></h1>\n      <div class="sv-sbml-content">\n        <xsl:apply-templates select="*[local-name()=\'model\']" mode="math"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- model --\x3e\n  <xsl:template match="*[local-name()=\'model\']" mode="math">\n    <div class="sv-container sv-model-container">\n      <h2 class="sv-model-header">Model</h2>\n      <div class="sv-model-content">\n        <xsl:apply-templates select="@*"/>\n\n        <xsl:if test="count(//*[local-name()=\'functionDefinition\'])">\n          <xsl:call-template name="functions"/>\n        </xsl:if>\n        <xsl:if test="count(\n          //*[local-name()=\'model\']/*/*[local-name()=\'parameter\'][not(key(\'variableKey\',@id))] |\n          //*[local-name()=\'compartment\'][not(key(\'variableKey\',@id))] |\n          //*[local-name()=\'species\' and @boundaryCondition=\'true\'][not(key(\'variableKey\',@id))]\n          )">\n          <xsl:call-template name="constants"/>\n        </xsl:if>\n        <xsl:if test="count(\n          //*[local-name()=\'assignmentRule\'] |\n          //*[local-name()=\'reaction\']\n          )">\n          <xsl:call-template name="exp-rules"/>\n        </xsl:if>\n        <xsl:if test="count(//*[local-name()=\'algebraicRule\'])">\n          <xsl:call-template name="imp-rules"/>\n        </xsl:if>\n        <xsl:if test="count(\n          //*[local-name()=\'species\' and not(@boundaryCondition=\'true\')] |\n          //*[local-name()=\'initialAssignment\']\n          )">\n          <xsl:call-template name="init"/>\n        </xsl:if>\n        <xsl:if test="count(\n          //*[local-name()=\'species\' and not(@boundaryCondition=\'true\')] |\n          //*[local-name()=\'rateRule\']\n          )">\n          <xsl:call-template name="diff-eq"/>\n        </xsl:if>\n        <xsl:if test="count(//*[local-name()=\'event\'])">\n          <xsl:call-template name="events"/>\n        </xsl:if>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="@*">\n    <p>\n      <xsl:attribute name="class">sv-attribute-container sv-attribute-<xsl:value-of select="local-name()"/></xsl:attribute>\n      <span class="sbml-attribute-name"><xsl:value-of select="local-name()"/></span>: <span class="sv-attribute-value"><xsl:value-of select="."/></span>\n    </p>\n  </xsl:template>\n\n  \x3c!-- idOrName mode --\x3e\n  <xsl:template match="@id" mode="idOrName">\n      <xsl:if test="$useNames=\'true\' and count(./../@name)>0">[<xsl:value-of select="./../@name"/>]</xsl:if>  \x3c!-- for simbio only--\x3e\n      <xsl:if test="$useNames=\'true\' and count(./../@name)=0">[no name]</xsl:if>\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="."/></xsl:if>\n  </xsl:template>\n\n  \x3c!-- functions --\x3e\n  <xsl:template name="functions">\n    <div class="sv-container">\n      <h2 class="sv-header sv-functionDefinition-header">Functions:</h2>\n      <div class="sv-content sv-functionDefinition-content">\n        <xsl:apply-templates select="//*[local-name()=\'functionDefinition\']"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'functionDefinition\']">\n    <p>\n      <xsl:element name="math" xmlns="http://www.w3.org/1998/Math/MathML">\n        <apply>\n          <equivalent/>\n            <apply>\n                <ci><xsl:apply-templates select="@id" mode="idOrName"/></ci>\n                <xsl:copy-of select="mml:math/mml:lambda/mml:bvar/mml:*"/>\n            </apply>\n            <xsl:copy-of select="mml:math/mml:lambda/*[local-name()!=\'bvar\']"/>\n        </apply>\n      </xsl:element>\n    </p>\n  </xsl:template>\n\n  \x3c!-- constants --\x3e\n  <xsl:template name="constants">\n    <div class="sv-container">\n      <h2 class="sv-header">Constants:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'model\']/*/*[local-name()=\'parameter\' and not(key(\'variableKey\',@id))]" mode="const"/>\n        <xsl:apply-templates select="//*[local-name()=\'compartment\' and not(key(\'variableKey\',@id))]" mode="const"/>\n        <xsl:apply-templates select="//*[local-name()=\'species\' and @boundaryCondition=\'true\' and not(key(\'variableKey\',@id))]" mode="const"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'parameter\']" mode="const">\n    <p>\n      <xsl:apply-templates select="@id" mode="idOrName"/>\n      = <xsl:value-of select="@value"/><xsl:if test="not(@value)">?</xsl:if>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'compartment\']" mode="const">\n    <p>\n      <xsl:apply-templates select="@id" mode="idOrName"/>\n      = <xsl:value-of select="@size"/><xsl:if test="not(@size)">?</xsl:if>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and @initialAmount]" mode="const">\n    <p>\n      <xsl:apply-templates select="@id" mode="idOrName"/> = <xsl:value-of select="@initialAmount"/><xsl:if test="@hasOnlySunstanceUnits!=\'true\' and key(\'idKey\',@compartment)/@spatialDimensions!=\'0\'">/<xsl:value-of select="@compartment"/></xsl:if>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and @initialConcentration]" mode="const">\n    <p>\n      <xsl:apply-templates select="@id" mode="idOrName"/> = <xsl:value-of select="@initialConcentration"/><xsl:if test="@hasOnlySunstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\'">*<xsl:value-of select="@compartment"/></xsl:if>\n    </p>\n  </xsl:template>\n\n  \x3c!-- explicit rules --\x3e\n  <xsl:template name="exp-rules">\n    <div class="sv-container">\n      <h2 class="sv-header">Explicit rules:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'assignmentRule\']"/>\x3c!-- ???  --\x3e\n        <xsl:apply-templates select="//*[local-name()=\'reaction\']"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'assignmentRule\']">\n    <p>\n      <xsl:if test="key(\'idKey\',@variable)"><xsl:apply-templates select="key(\'idKey\',@variable)/@id" mode="idOrName"/></xsl:if>\n      <xsl:if test="not(key(\'idKey\',@variable))"><span class="sv-id-lost"><xsl:value-of select="@variable"/></span></xsl:if>\n      = <xsl:apply-templates select="mml:math"/>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'reaction\']">\n    <p>\n      <xsl:apply-templates select="@id" mode="idOrName"/>\n      = <xsl:apply-templates select="*[local-name()=\'kineticLaw\']/mml:math"/>\n      <xsl:if test="*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']/*[local-name()=\'parameter\']">\n        <div class="sv-localParameters-container">\n          <p>where</p>\n          <xsl:apply-templates select="*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']/*[local-name()=\'parameter\']" mode="const"/>\n        </div>\n      </xsl:if>\n    </p>\n  </xsl:template>\n\n  \x3c!-- implicit rules --\x3e\n  <xsl:template name="imp-rules">\n    <div class="sv-container">\n      <h2 class="sv-header">Implicit rules:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'algebraicRule\']"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'algebraicRule\']">\n    <p>\n      0 = <xsl:apply-templates select="mml:math"/>\n    </p>\n  </xsl:template>\n\n  \x3c!-- diff-init --\x3e\n  <xsl:template name="init">\n    <div class="sv-container">\n      <h2 class="sv-header">Initiate at start:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'species\' and not(@boundaryCondition=\'true\')]" mode="diff-init"/>\n        <xsl:apply-templates select="//*[local-name()=\'initialAssignment\']" mode="diff-init"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'initialAssignment\']" mode="diff-init">\n    <p>\n      <xsl:if test="key(\'idKey\',@symbol)"><xsl:apply-templates select="key(\'idKey\',@symbol)/@id" mode="idOrName"/></xsl:if>\n      <xsl:if test="not(key(\'idKey\',@symbol))"><span class="sv-id-lost"><xsl:value-of select="@symbol"/></span></xsl:if>\n      &#8592;\n      <xsl:apply-templates select="mml:math"/>\n    </p>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and not(@boundaryCondition=\'true\') and not(@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]" mode="diff-init">\n    <p>\n      <xsl:apply-templates select="@id" mode="idOrName"/> &#8592;\n      <xsl:if test="@initialConcentration">\n        <xsl:value-of select="@initialConcentration"/>\n      </xsl:if>\n      <xsl:if test="@initialAmount">\n        <xsl:value-of select="@initialAmount"/> / <xsl:apply-templates select="key(\'idKey\',@compartment)/@id" mode="idOrName"/>\n      </xsl:if>\n      <xsl:if test="not(@initialConcentration or @initialAmount)">?</xsl:if>\n    </p>\n  </xsl:template>\n\n    <xsl:template match="*[local-name()=\'species\' and not(@boundaryCondition=\'true\') and (@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]" mode="diff-init">\n      <p>\n        <xsl:apply-templates select="@id" mode="idOrName"/> &#8592;\n            <xsl:if test="@initialAmount">\n              <xsl:value-of select="@initialAmount"/>\n            </xsl:if>\n            <xsl:if test="@initialConcentration">\n              <xsl:value-of select="@initialConcentration"/> &#8901; <xsl:apply-templates select="key(\'idKey\',@compartment)/@id" mode="idOrName"/>\n            </xsl:if>\n            <xsl:if test="not(@initialConcentration or @initialAmount)">?</xsl:if>\n      </p>\n    </xsl:template>\n\n  \x3c!-- diff-eq --\x3e\n  <xsl:template name="diff-eq">\n    <div class="sv-container">\n      <h2 class="sv-header">Differential equations:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'species\' and not(@boundaryCondition=\'true\')]" mode="diff-eq"/>\n        <xsl:apply-templates select="//*[local-name()=\'rateRule\']" mode="diff-eq"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and not(@boundaryCondition=\'true\')]" mode="diff-eq">\n    <p>\n      (<xsl:if test="not(@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')"><xsl:apply-templates select="key(\'idKey\',@compartment)/@id" mode="idOrName"/> &#8901; </xsl:if>\n        <xsl:apply-templates select="@id" mode="idOrName"/>)\' =\n      <xsl:element name="math" xmlns="http://www.w3.org/1998/Math/MathML">\n            <apply>\n              <plus/>\n              <xsl:apply-templates select="//*[local-name()=\'reaction\']/*/*[local-name()=\'speciesReference\' and @species=current()/@id]" mode="diff-eq"/>\n              <xsl:if test="count(//*[local-name()=\'reaction\']/*/*[local-name()=\'speciesReference\' and @species=current()/@id])=0"><cn>0</cn></xsl:if>\n            </apply>\n      </xsl:element>\n    </p>\n  </xsl:template>\n\n    <xsl:template match="*[local-name()=\'listOfProducts\']/*[local-name()=\'speciesReference\' and not(@stoichiometry!=\'1\')]" mode="diff-eq">\n        <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">\n          <xsl:apply-templates select="../../@id" mode="idOrName"/>\n        </xsl:element>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'listOfReactants\']/*[local-name()=\'speciesReference\' and not(@stoichiometry!=\'1\')]" mode="diff-eq">\n      <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n        <minus/>\n        <ci><xsl:apply-templates select="../../@id" mode="idOrName"/></ci>\n      </xsl:element>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'listOfProducts\']/*[local-name()=\'speciesReference\' and @stoichiometry!=\'1\']" mode="diff-eq">\n      <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n        <times/>\n        <cn><xsl:value-of select="@stoichiometry"/></cn>\n        <ci><xsl:apply-templates select="../../@id" mode="idOrName"/></ci>\n      </xsl:element>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'listOfReactants\']/*[local-name()=\'speciesReference\' and @stoichiometry!=\'1\']" mode="diff-eq">\n      \x3c!--<apply xmlns="http://www.w3.org/1998/Math/MathML">--\x3e\n      <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n        <minus/>\n        <apply>\n          <times/>\n          <cn><xsl:value-of select="@stoichiometry"/></cn>\n          <ci> <xsl:apply-templates select="../../@id" mode="idOrName"/></ci>\n        </apply>\n      \x3c!--</apply>--\x3e\n      </xsl:element>\n    </xsl:template>\n\n  <xsl:template match="*[local-name()=\'rateRule\']" mode="diff-eq">\n    <p>\n      (<xsl:value-of select="@variable"/>)\' =\n      <xsl:element name="math" xmlns="http://www.w3.org/1998/Math/MathML">\n          <xsl:apply-templates select="mml:math/mml:*"/>\n      </xsl:element>\n    </p>\n  </xsl:template>\n\n  \x3c!-- events --\x3e\n  <xsl:template name="events">\n    <div class="sv-container">\n      <h2 class="sv-header">Events:</h2>\n      <div class="sv-content">\n        <xsl:apply-templates select="//*[local-name()=\'event\']"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'event\']">\n    <div class="sv-content">\n      When <xsl:apply-templates select="*[local-name()=\'trigger\']/mml:math"/>\n      <xsl:if test="*[local-name()=\'delay\']"> after delay <xsl:apply-templates select="*[local-name()=\'delay\']/mml:math"/></xsl:if>\n      <xsl:apply-templates select="*[local-name()=\'listOfEventAssignments\']/*[local-name()=\'eventAssignment\']"/>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'eventAssignment\']">\n    <p>\n      <xsl:if test="key(\'idKey\',@variable)"><xsl:apply-templates select="key(\'idKey\',@variable)/@id" mode="idOrName"/></xsl:if>\n      <xsl:if test="not(key(\'idKey\',@variable))"><span class="sv-id-lost"><xsl:value-of select="@variable"/></span></xsl:if>\n      &#8592; <xsl:apply-templates select="mml:math"/>\n    </p>\n  </xsl:template>\n\n  \x3c!-- BEGIN OF mml --\x3e\n  \x3c!-- correct for max function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside max --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- correct for min function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside min --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- use id or names for equations and normalize space --\x3e\n  <xsl:template match="mml:ci">\n    <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:if test="$useNames=\'true\' and key(\'idKey\',normalize-space(text()))/@name">[<xsl:value-of select="key(\'idKey\',normalize-space(text()))/@name"/>]</xsl:if>\n      <xsl:if test="$useNames=\'true\' and not(key(\'idKey\',normalize-space(text()))/@name)">[no name]</xsl:if>\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="normalize-space(text())"/></xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of e-notation for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'e-notation\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text()[1])"/><xsl:if test="normalize-space(text()[2])!=\'0\'">e<xsl:copy-of select="normalize-space(text()[2])"/>\n      </xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of integer for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'integer\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text())"/>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- just copy mml or not --\x3e\n  <xsl:template match="mml:math">\n    <xsl:if test="$equationsOff=\'true\'">= Equations are hidden =</xsl:if>\n    <xsl:if test="not($equationsOff=\'true\')">\n      <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n    </xsl:if>\n  </xsl:template>\n\n  <xsl:template match="mml:*">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n  </xsl:template>\n\n</xsl:stylesheet>\n'},bgV5:function(e,t,l){"use strict";l.r(t);var n=l("GBTA"),s=l("TOOt");for(var a in s)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return s[e]})}(a);l("QUuq");var m=l("KHd+"),i=Object(m.a)(s.default,n.a,n.b,!1,null,null,null);t.default=i.exports},fsqG:function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n\x3c!--\nCopyright 2016-2021 InSysBio, LLC\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n--\x3e\n\x3c!-- INFO\nDescription: Creating representation of single element with dependencies\nSource files: SBML L2 V1-5, L3 V1-2\nmodes:\n  - element\n  - reactionFormula\n  - dependencies/searchdependencies\n  - idOrName/idOrNamePlus\n\nAuthor: Evgeny Metelkin\n--\x3e\n<xsl:stylesheet version="1.0"\n  xmlns="http://www.w3.org/1999/xhtml"\n  xmlns:xhtml="http://www.w3.org/1999/xhtml"\n  xmlns:l2v1="http://www.sbml.org/sbml/level2/version1"\n  xmlns:l2v2="http://www.sbml.org/sbml/level2/version2"\n  xmlns:l2v3="http://www.sbml.org/sbml/level2/version3"\n  xmlns:l2v4="http://www.sbml.org/sbml/level2/version4"\n  xmlns:l2v5="http://www.sbml.org/sbml/level2/version5"\n  xmlns:l3v1="http://www.sbml.org/sbml/level3/version1/core"\n  xmlns:l3v2="http://www.sbml.org/sbml/level3/version2/core"\n  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"\n  xmlns:mml="http://www.w3.org/1998/Math/MathML"\n  xmlns:exsl="http://exslt.org/common"\n  xmlns:msexsl="urn:schemas-microsoft-com:xslt"\n\n  exclude-result-prefixes="mml xhtml exsl msexsl l2v1 l2v2 l2v3 l2v4 l2v5 l3v1 l3v2">\n\n  \x3c!-- GLOBAL KEYS --\x3e\n  <xsl:key name="idKey" match="/*/*/*/*" use="@id"/>\x3c!-- to exclude local parameters --\x3e\n  \x3c!--<xsl:key name="idKey" match="*" use="@id"/>--\x3e\n  <xsl:key name="variableKey" match="/*/*/*/*" use="@variable"/>\n\n  \x3c!-- PARAMETERS --\x3e\n  <xsl:param name="useNames">false</xsl:param> \x3c!-- use names instead of id in equations --\x3e\n  <xsl:param name="correctMathml">false</xsl:param> \x3c!-- use correction in MathML (for simbio) always on currently--\x3e\n  <xsl:param name="equationsOff">false</xsl:param> \x3c!-- do not show equations --\x3e\n  <xsl:param name="input_root" select="/"/> \x3c!-- main document reference --\x3e\n  <xsl:param name="elementId">default</xsl:param> \x3c!-- include unitDefinitions and attribute --\x3e\n  <xsl:param name="isEdge">false</xsl:param> \x3c!-- define browser --\x3e\n  <xsl:param name="dependent" >\n    <ci><xsl:value-of select="$elementId"/></ci>\n    <xsl:apply-templates select="key(\'idKey\', $elementId)" mode="searchdependencies"/>\n  </xsl:param>\n\n  \x3c!-- top element --\x3e\n  <xsl:template match="/">\n    <div class="sv-container">\n      <xsl:attribute name="class">sbml-element \x3c!--sbml-<xsl:value-of select="key(\'idKey\', $elementId)[1]/local-name()"/>--\x3e sv-container sv-mode-element</xsl:attribute>\n      <xsl:apply-templates select="key(\'idKey\', $elementId)[1]"/>\n    </div>\n  </xsl:template>\n\n  \x3c!-- Attributes --\x3e\n  <xsl:template match="@*" mode="element">\n    <p>\n      <xsl:attribute name="class">sbml-attribute sbml-<xsl:value-of select="local-name()"/></xsl:attribute>\n      <span class="sbml-attribute-name"><xsl:value-of select="local-name()"/></span>:\n      <span class="sbml-attribute-value"><xsl:value-of select="."/></span>\n    </p>\n  </xsl:template>\n\n  \x3c!-- Annotation --\x3e\n  <xsl:template match="*[local-name()=\'annotation\']" mode="element">\n    <div class="sbml-element sbml-annotation sv-container">\n      <p class="sv-header">Annotation</p>\n      <pre class="sv-content sv-raw-xml prettyprint"><xsl:copy-of select="node()"/></pre>\n    </div>\n  </xsl:template>\n\n  \x3c!-- Notes --\x3e\n  <xsl:template match="*[local-name()=\'notes\']" mode="element">\n    <div class="sbml-element sbml-notes sv-container">\n      <p class="sv-header">Notes</p>\n      <div class="sv-content sv-xhtml">\n        <xsl:copy-of select="node()"/>\n      </div>\n    </div>\n  </xsl:template>\n\x3c!--\n  <xsl:template match="*[local-name()=\'notes\' and xhtml:body]" mode="element">\n   <p><strong>notes:</strong></p>\n   <div class="sv-note-content">\n    <xsl:copy-of select="xhtml:body/node()"/>\n   </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'notes\' and xhtml:html[xhtml:body]]" mode="element">\n   <p><strong>notes:</strong></p>\n   <div class="sv-note-content">\n    <xsl:copy-of select="xhtml:html/xhtml:body/node()"/>\n   </div>\n  </xsl:template>\n--\x3e\n  \x3c!-- compartment summary --\x3e\n  <xsl:template match="*[local-name()=\'compartment\']\n    | *[local-name()=\'parameter\']\n    | *[local-name()=\'species\']">\n      <h1 class="sv-header"><xsl:value-of select="local-name()"/></h1>\n      <div class="sv-content sbml-mixed">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:call-template name="dependencies"/>\n    </div>\n  </xsl:template>\n\n  \x3c!-- reaction summary --\x3e\n  <xsl:template match="*[local-name()=\'reaction\']">\n    <h1 class="sv-header">reaction</h1>\n    <div class="sv-content sbml-mixed">\n      <xsl:apply-templates select="@*" mode="element"/>\n      <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n      <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n      <xsl:apply-templates select="." mode="reactionFormula"/>\n      <xsl:apply-templates select="*[local-name()=\'listOfModifiers\']" mode="reactionFormula"/>\n\n      <xsl:call-template name="dependencies"/>\n    </div>\n  </xsl:template>\n\n\x3c!-- BEGIN OF idOrName/idOrNamePlus mode --\x3e\n  <xsl:template match="@id|@variable" mode="idOrName">\n      <xsl:if test="$useNames=\'true\'"><xsl:value-of select="./../@name"/></xsl:if>  \x3c!-- for simbio only--\x3e\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="."/></xsl:if>\n    </xsl:template>\n\n    <xsl:template match="@id|@variable" mode="idOrNamePlus">\n      <xsl:if test="$useNames=\'true\'"><xsl:value-of select="./../@name"/></xsl:if>  \x3c!-- for simbio only--\x3e\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="."/></xsl:if>\n    </xsl:template>\n\x3c!-- END OF idOrName/idOrNamePlus mode --\x3e\n\n\x3c!-- BEGIN OF reactionFormula mode --\x3e\n  <xsl:template match="*[local-name()=\'reaction\']" mode="reactionFormula">\n    <div class="sbml-mixed sv-container">\n      <h2 class="sv-header">reactants / products:</h2>\n      <div class="sv-content">\n        <xsl:if test="count(*[local-name()=\'listOfReactants\']/*[local-name()=\'speciesReference\'])=0">&#8709;</xsl:if>\n        <xsl:apply-templates select="*[local-name()=\'listOfReactants\']" mode="reactionFormula"/>\n        <xsl:if test="@reversible=\'false\' and @fast=\'true\'"> &#8594; </xsl:if>\n        <xsl:if test="not(@reversible=\'false\') and @fast=\'true\'"> &#8596; </xsl:if>\n        <xsl:if test="@reversible=\'false\' and not(@fast=\'true\')"> &#8658; </xsl:if>\n        <xsl:if test="not(@reversible=\'false\') and not(@fast=\'true\')"> &#8660; </xsl:if>\n        <xsl:if test="count(*[local-name()=\'listOfProducts\']/*[local-name()=\'speciesReference\'])=0">&#8709;</xsl:if>\n        <xsl:apply-templates select="*[local-name()=\'listOfProducts\']" mode="reactionFormula"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- listOfReactants / listOfProducts--\x3e\n  <xsl:template match="*[local-name()=\'listOfReactants\']\n    | *[local-name()=\'listOfProducts\']" mode="reactionFormula">\n    <xsl:for-each select="*[local-name()=\'speciesReference\']">\n      <xsl:if test="@stoichiometry!=\'1\'"><xsl:value-of select="@stoichiometry"/>&#215;</xsl:if>\n      <xsl:apply-templates select="key(\'idKey\',@species)/@id" mode="idOrName"/>\n      <xsl:if test="position()!=last()"> + </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  \x3c!-- listOfModifiers--\x3e\n  <xsl:template match="*[local-name()=\'listOfModifiers\']" mode="reactionFormula">\n    <div class="sbml-element sbml-listOf sbml-listOfModifiers sv-container">\n      <h2 class="sv-header">modifiers:</h2>\n      <div class="sv-content">\n        <xsl:for-each select="*[local-name()=\'modifierSpeciesReference\']">\n          <xsl:apply-templates select="key(\'idKey\',@species)/@id" mode="idOrName"/>\n          <xsl:if test="position()!=last()">; </xsl:if>\n        </xsl:for-each>\n      </div>\n    </div>\n  </xsl:template>\n\x3c!-- END OF reactionFormula mode --\x3e\n\n\x3c!-- BEGIN OF searchdependencies mode --\x3e\n  <xsl:template match="*[local-name()=\'reaction\']" mode="searchdependencies">\n    <xsl:for-each select="descendant::mml:ci">\n      <ci><xsl:value-of select="normalize-space(text())"/></ci>\n      <xsl:apply-templates select="key(\'idKey\', normalize-space(text()))" mode="searchdependencies"/>\n    </xsl:for-each>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'compartment\' or local-name()=\'parameter\']" mode="searchdependencies">\n    <xsl:for-each select="key(\'variableKey\', @id)/descendant::mml:ci">\n      <ci>\n      <xsl:value-of select="normalize-space(text())"/>\n      </ci>\n      <xsl:apply-templates select="key(\'idKey\', normalize-space(text()))" mode="searchdependencies"/>\n    </xsl:for-each>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\']" mode="searchdependencies">\n    <xsl:for-each select="key(\'variableKey\', @id)/descendant::mml:ci">\n      <ci>\n      <xsl:value-of select="normalize-space(text())"/>\n      </ci>\n      <xsl:apply-templates select="key(\'idKey\', normalize-space(text()))" mode="searchdependencies"/>\n    </xsl:for-each>\n\t\x3c!-- add compartment to search --\x3e\n\t<xsl:if test="((@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')and @initialConcentration) or (not(@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\') and @initialAmount)">\n\t  <ci><xsl:value-of select="@compartment"/></ci>\n      <xsl:apply-templates select="key(\'idKey\', @compartment)" mode="searchdependencies"/>\n\t</xsl:if>\n  </xsl:template>\n\x3c!-- END OF searchdependencies mode --\x3e\n\n\x3c!-- BEGIN OF dependencies mode --\x3e\n  <xsl:template name="dependencies">\n    <div class="sbml-mixed sv-container">\n      <h2 class="sv-header">dependencies:</h2>\n      <div class="sv-content">\n        <table>\n          <xsl:if test="$isEdge=\'false\'">\n            <xsl:for-each select="exsl:node-set($dependent)/xhtml:ci[not(text()=preceding-sibling::xhtml:ci/text())]">\n             \x3c!--<xsl:apply-templates select="exsl:node-set($input_root)/descendant::*[@id=current()/text()]" mode="dependencies"/>--\x3e\n      \t      <xsl:apply-templates select="exsl:node-set($input_root)/*/*/*/*[@id=current()/text()]" mode="dependencies"/> \x3c!-- search id without local parameters --\x3e\n            </xsl:for-each>\n          </xsl:if>\n          <xsl:if test="$isEdge=\'true\'">\n            <xsl:for-each select="msexsl:node-set($dependent)/xhtml:ci[not(text()=preceding-sibling::xhtml:ci/text())]">\n             \x3c!--<xsl:apply-templates select="exsl:node-set($input_root)/descendant::*[@id=current()/text()]" mode="dependencies"/>--\x3e\n      \t      <xsl:apply-templates select="msexsl:node-set($input_root)/*/*/*/*[@id=current()/text()]" mode="dependencies"/> \x3c!-- search id without local parameters --\x3e\n            </xsl:for-each>\n          </xsl:if>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'compartment\' or local-name()=\'parameter\']" mode="dependencies">\n    <tr>\n    <td><xsl:apply-templates select="@id" mode="idOrNamePlus"/></td>\n    <td>=</td>\n    <td>\n    <xsl:if test="not(key(\'variableKey\', @id))">\n      <xsl:value-of select="@value"/>\n      <xsl:value-of select="@size"/>\n\t  <xsl:if test="not(@value) and not(@size)">?</xsl:if>\n    </xsl:if>\n\t<xsl:if test="key(\'variableKey\', @id)">\n      <xsl:apply-templates select="key(\'variableKey\', @id)/mml:math"/>\n\t</xsl:if>\n    </td>\n    </tr>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'reaction\']" mode="dependencies">\n    <tr>\n      <td><xsl:apply-templates select="@id"  mode="idOrNamePlus"/></td>\n      <td>=</td>\n      <td><xsl:apply-templates select="*[local-name()=\'kineticLaw\']/mml:math"/></td>\n    </tr>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and not(@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]" mode="dependencies">\n    <tr>\n      <td><xsl:apply-templates select="@id"  mode="idOrNamePlus"/></td>\n      <td>\n        <xsl:if test="@boundaryCondition=\'true\'">=</xsl:if>\n        <xsl:if test="not(@boundaryCondition=\'true\')">&#8592;</xsl:if>\n      </td>\n      <td>\n      <xsl:if test="not(key(\'variableKey\', @id))">\n        <xsl:element name="math" namespace="http://www.w3.org/1998/Math/MathML">\n              <xsl:if test="@initialConcentration">\n                <cn><xsl:value-of select="@initialConcentration"/></cn>\n              </xsl:if>\n              <xsl:if test="@initialAmount">\n                <apply>\n                  <divide/>\n                  <cn><xsl:value-of select="@initialAmount"/></cn>\n                  <ci><xsl:apply-templates select="key(\'idKey\',@compartment)/@id" mode="idOrName"/></ci>\n                </apply>\n              </xsl:if>\n              <xsl:if test="not(@initialConcentration or @initialAmount)">\n                <ci>?</ci>\n              </xsl:if>\n        </xsl:element>\n        </xsl:if>\n        <xsl:if test="key(\'variableKey\', @id)">\n          <xsl:apply-templates select="key(\'variableKey\', @id)/mml:math"/>\n        </xsl:if>\n      </td>\n    </tr>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\' and (@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]" mode="dependencies">\n    <tr>\n      <td><xsl:apply-templates select="@id"  mode="idOrNamePlus"/></td>\n    <td>\n      <xsl:if test="@boundaryCondition=\'true\'">=</xsl:if>\n      <xsl:if test="not(@boundaryCondition=\'true\')">&#8592;</xsl:if>\n    </td>\n    <td>\n    <xsl:if test="not(key(\'variableKey\', @id))">\n      <xsl:element name="math" namespace="http://www.w3.org/1998/Math/MathML">\n            <xsl:if test="@initialAmount">\n              <cn><xsl:value-of select="@initialAmount"/></cn>\n            </xsl:if>\n            <xsl:if test="@initialConcentration">\n              <apply>\n                <times/>\n                <cn><xsl:value-of select="@initialConcentration"/></cn>\n                <ci><xsl:apply-templates select="key(\'idKey\',@compartment)/@id" mode="idOrName"/></ci>\n              </apply>\n            </xsl:if>\n            <xsl:if test="not(@initialConcentration or @initialAmount)">\n              <ci>?</ci>\n            </xsl:if>\n      </xsl:element>\n    </xsl:if>\n    <xsl:if test="key(\'variableKey\', @id)">\n      <xsl:apply-templates select="key(\'variableKey\', @id)/mml:math"/>\n    </xsl:if>\n    </td>\n    </tr>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'functionDefinition\']" mode="dependencies">\n    <tr>\n      <td>\n        <math xmlns="http://www.w3.org/1998/Math/MathML">\n          <apply xmlns="http://www.w3.org/1998/Math/MathML">\n            <ci xmlns="http://www.w3.org/1998/Math/MathML"><xsl:apply-templates select="@id" mode="idOrName"/></ci>\n            <xsl:copy-of select="mml:math/mml:lambda/mml:bvar/mml:*"/>\n          </apply>\n        </math>\n      </td>\n      <td>&#8801;</td>\n      <td>\n        <math xmlns="http://www.w3.org/1998/Math/MathML">\n          <xsl:copy-of select="mml:math/mml:lambda/*[local-name()!=\'bvar\']"/>\n        </math>\n      </td>\n    </tr>\n  </xsl:template>\n\n\x3c!-- END OF dependencies mode --\x3e\n\n\x3c!-- BEGIN OF mml: part --\x3e\n  \x3c!-- correct for max function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside max --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- correct for min function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside min --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- use id or names for equations and normalize space --\x3e\n  <xsl:template match="mml:ci">\n    <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:if test="$useNames=\'true\'"><xsl:value-of select="key(\'idKey\',normalize-space(text()))/@name"/></xsl:if>  \x3c!-- for simbio only--\x3e\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="normalize-space(text())"/></xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of e-notation for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'e-notation\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text()[1])"/><xsl:if test="normalize-space(text()[2])!=\'0\'">e<xsl:copy-of select="normalize-space(text()[2])"/>\n      </xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- just copy mml:math or not --\x3e\n  <xsl:template match="mml:math">\n    <xsl:if test="$equationsOff=\'true\'"><span class="sv-hidden">Equations are hidden</span></xsl:if>\n    <xsl:if test="not($equationsOff=\'true\')">\n      <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- just copy all mml elements --\x3e\n  <xsl:template match="mml:*">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n  </xsl:template>\n\x3c!-- END OF mml: part --\x3e\n</xsl:stylesheet>\n'},"i/LR":function(e){e.exports=JSON.parse('{"Incorrect XML":{"message":"Unclear problems with file"},"Incorrect level":{"message":"Unsupported file content"},"Fail import stylesheet":{"message":"XSLT problems"},"Fail transform document":{"message":"Fail when transforming document"},"Can not read file":{"message":"Can not read file"}}')},iV5L:function(e,t){},iwd1:function(e,t){},jM5Q:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ErrorContainer",data:function(){return{errorMessage:null,errorDictionary:l("i/LR")}},mounted:function(){var e=this;this.$root.$on("onThrowError",function(t){e.displayErr(e.errorDictionary[t].message)}),this.$root.$on("onClearErr",this.clear)},methods:{displayErr:function(e){this.errorMessage=e},clear:function(){this.errorMessage=null}}}},keBJ:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l("q+rZ");var n=l("MkwQ"),s=new window.DOMParser,a=l("srgb")(s).find(function(e){return"sbml2element"===e.name}).xslt;t.default={name:"AnnotationSide",props:["fileContent"],data:function(){return{content:null,xsltProcessor:null}},mounted:function(){this.xsltProcessor=new XSLTProcessor,this.xsltProcessor.importStylesheet(a.firstElementChild),this.$root.$on("onOpenAnnotation",this.openAnnotation);var e=-1!==navigator.userAgent.search("Edge");this.xsltProcessor.setParameter(null,"isEdge",e)},methods:{openAnnotation:function(e){this.xsltProcessor.setParameter(null,"elementId",e);try{var t=this.xsltProcessor.transformToFragment(this.fileContent,document);this.content=t.children[0],this.$nextTick(function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub]),(0,n.prettifyAnnotation)("sidebarContent")})}catch(e){console.log(e)}},onAnnotationClose:function(){this.$emit("closeAnnotation")}}}},kiQV:function(e){e.exports=JSON.parse('{"name":"sbmlviewer","version":"0.2.8","description":"The collection of transformation from SBML files into human readable formats","contributors":["Evgeny Metelkin","Victoria Tkachenko"],"private":false,"repository":"github:insysbio/SbmlViewer","bugs":{"url":"https://github.com/insysbio/SbmlViewer/issues","email":"dev@insysbio.com"},"license":"Apache-2.0","scripts":{"dev":"set NODE_ENV=dev&& webpack-dev-server --inline --progress --open --config build/webpack.dev.conf.js","start":"npm run dev","lint":"eslint --ext .js,.vue src","build":"node build/build.js"},"dependencies":{"code-prettify":"^0.1.0","fstream":"^1.0.12","html-webpack-plugin":"^3.2.0","pretty-data":"^0.40.0","vue":"^2.6.12","w3css":"^2.7.0","xml-escape":"^1.1.0"},"devDependencies":{"autoprefixer":"^7.1.2","babel-core":"^6.22.1","babel-eslint":"^8.2.6","babel-helper-vue-jsx-merge-props":"^2.0.3","babel-loader":"^7.1.5","babel-plugin-syntax-jsx":"^6.18.0","babel-plugin-transform-runtime":"^6.22.0","babel-plugin-transform-vue-jsx":"^3.5.0","babel-preset-env":"^1.3.2","babel-preset-stage-2":"^6.22.0","chalk":"^2.4.2","copy-webpack-plugin":"^4.6.0","css-loader":"^2.1.0","eslint":"^4.15.0","eslint-config-standard":"^10.2.1","eslint-friendly-formatter":"^3.0.0","eslint-loader":"^2.2.1","eslint-plugin-import":"^2.22.1","eslint-plugin-node":"^5.2.0","eslint-plugin-promise":"^3.4.0","eslint-plugin-standard":"^3.0.1","eslint-plugin-vue":"^4.7.1","extract-text-webpack-plugin":"^4.0.0-alpha.0","file-loader":"^1.1.4","friendly-errors-webpack-plugin":"^1.6.1","mini-css-extract-plugin":"^0.5.0","node-notifier":"^8.0.1","node-sass":"^4.14.1","optimize-css-assets-webpack-plugin":"^5.0.4","ora":"^1.2.0","portfinder":"^1.0.28","postcss-import":"^11.0.0","postcss-loader":"^3.0.0","postcss-url":"^7.2.1","raw-loader":"^0.5.1","resolve-url-loader":"^3.1.2","rimraf":"^2.7.1","sass-loader":"^7.3.1","semver":"^5.7.1","shelljs":"^0.7.6","uglifyjs-webpack-plugin":"^1.3.0","url-loader":"^1.1.2","vue-loader":"^15.9.5","vue-style-loader":"^4.1.2","vue-template-compiler":"^2.6.12","webpack":"^4.44.2","webpack-bundle-analyzer":"^3.9.0","webpack-cli":"^3.3.12","webpack-dev-server":"^3.11.0","webpack-merge":"^4.2.2","xml-loader":"^1.2.1","zip-webpack-plugin":"^3.0.0"},"engines":{"node":"^8.0.0","npm":">= 5.0.0"},"browserslist":["> 1%","last 2 versions","not ie <= 8"]}')},lhgn:function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n\x3c!--\nCopyright 2016-2021 InSysBio, LLC\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n--\x3e\n\x3c!-- INFO\nDescription: Creating representation of whole sbml into Heta format.\nSource files: SBML L2 V1-5\nTODO:\n  * local parameters not substituted in math expressions \n\nAuthor: Evgeny Metelkin\nProject-page: https://sv.insysbio.com, https://hetalang.insysbio.com\n--\x3e\n<xsl:stylesheet version="1.0"\n  xmlns="http://www.w3.org/1999/xhtml"\n  xmlns:xhtml="http://www.w3.org/1999/xhtml"\n  xmlns:l2v1="http://www.sbml.org/sbml/level2"\n  xmlns:l2v2="http://www.sbml.org/sbml/level2/version2"\n  xmlns:l2v3="http://www.sbml.org/sbml/level2/version3"\n  xmlns:l2v4="http://www.sbml.org/sbml/level2/version4"\n  xmlns:l2v5="http://www.sbml.org/sbml/level2/version5"\n  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"\n  xmlns:mml="http://www.w3.org/1998/Math/MathML"\n  exclude-result-prefixes="mml xhtml l2v1 l2v2 l2v3 l2v4 l2v5">\n\n  <xsl:output encoding="UTF-8" indent="no"/>\n\n  \x3c!-- GLOBAL KEYS --\x3e\n  <xsl:key name="idKey" match="*" use="@id"/>\n  <xsl:key name="variableKey" match="*" use="@variable"/>\n\n  \x3c!-- PARAMETERS --\x3e\n  <xsl:param name="fullForm">false</xsl:param> \x3c!-- do not display aux --\x3e\n\n\x3c!-- BEGIN nothing --\x3e\n  <xsl:template match="*">\n    <span class="heta-debug">{ no transformation for: <xsl:value-of select="local-name()"/> }</span>\n  </xsl:template>\n\n  <xsl:template match="text()">\n    <span class="heta-debug">{ no transformation for text: <xsl:value-of select="."/> }</span>\n  </xsl:template>\n\n  <xsl:template match="attribute::*">\n    <span class="heta-debug">{ no transformation for attribute: <xsl:value-of select="local-name()"/> }</span>\n  </xsl:template>\n\x3c!-- END nothing --\x3e\n\n  \x3c!-- top --\x3e\n  <xsl:template match="/">\n    <xsl:apply-templates mode="heta"/>\n  </xsl:template>\n\n  \x3c!-- SBML --\x3e\n  <xsl:template match="*[local-name()=\'sbml\']" mode="heta">\n    <div class="sv-container sv-mode-heta">\n      <h3 class="sv-header">Transformation from SBML level <xsl:value-of select="@level"/> version <xsl:value-of select="@version"/> to Heta code</h3>\n      <h4 class="sv-header">More info about Heta format can be found in <a href="https://hetalang.github.io" target="blank_">https://hetalang.github.io</a></h4>\n      <div class="sv-content heta-code">\n        \x3c!--<xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>--\x3e\n        <xsl:apply-templates select="*[local-name()=\'model\']" mode="heta"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- model --\x3e\n  <xsl:template match="*[local-name()=\'model\']" mode="heta">\n    <pre>\n      \x3c!--<xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n      <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>--\x3e\n      <xsl:apply-templates select="*[contains(local-name(), \'listOf\')]" mode="heta"/>\n    </pre>\n  </xsl:template>\n\n  \x3c!-- notes --\x3e\n  <xsl:template match="*[local-name()=\'notes\']" mode="heta-sugar">\n    <span class="heta-notes">\'\'\'<xsl:apply-templates select="*"/>\'\'\'\n</span>\n  </xsl:template>\n\n  \x3c!-- this is for notes without xhtml --\x3e\n  <xsl:template match="*[local-name()=\'notes\' and not(xhtml:*) and text()]" mode="heta-sugar">\n    <span class="heta-notes">\'\'\'<xsl:value-of select="normalize-space(text())"/>\'\'\'\n</span>\n  </xsl:template>\n\n  \x3c!-- id --\x3e\n  <xsl:template match="@id|@symbol|@variable" mode="heta-sugar">\n    <span class="heta-id"><xsl:value-of select="."/></span>\n  </xsl:template>\n\n  \x3c!-- name --\x3e\n  <xsl:template match="@name" mode="heta-sugar">\n    <span class="heta-title"> \'<xsl:value-of select="."/>\'</span>\n  </xsl:template>\n\n\x3c!-- BEGIN listOf --\x3e\n  \x3c!-- unsupported listOf... --\x3e\n  <xsl:template \n    match="*[contains(local-name(), \'listOf\')]"\n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// <xsl:value-of select="local-name()"/> (not supported)</span>\n      <span class="heta-comment">\n/* not supported in current version */\n</span>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfFunctionDefinitions --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfFunctionDefinitions\']"\n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// <xsl:value-of select="local-name()"/> (not supported)</span>\n      <span class="heta-comment">\n/*\n  The original model contains the following functionDefinitions:\n<xsl:apply-templates select="*[local-name()=\'functionDefinition\']" mode="heta"/>*/\n</span>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfConstraints --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfConstraints\']"\n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// <xsl:value-of select="local-name()"/> (not supported)</span>\n      <span class="heta-comment">\n/*\n  The original model contains the following constraints:\n<xsl:apply-templates select="*[local-name()=\'constraint\']" mode="heta"/>*/\n</span>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfCompartmentTypes --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfCompartmentTypes\']"\n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// <xsl:value-of select="local-name()"/> (not supported)</span>\n      <span class="heta-comment">\n/*\n  The original model contains the following сompartmentTypes:\n  <xsl:apply-templates select="*[local-name()=\'compartmentType\']" mode="heta"/>\n*/\n</span>\n    </span>\n  </xsl:template>\n\n\n  \x3c!-- listOfSpeciesTypes --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfSpeciesTypes\']"\n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// <xsl:value-of select="local-name()"/> (not supported)</span>\n      <span class="heta-comment">\n/*\n  The original model contains the following speciesTypes:\n  <xsl:apply-templates select="*[local-name()=\'speciesType\']" mode="heta"/>\n*/\n</span>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfUnitDefinitions --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfUnitDefinitions\']"\n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// listOfUnitDefinitions\n</span>\n      <xsl:apply-templates select="*[local-name()=\'unitDefinition\']" mode="heta"/>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfCompartments --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfCompartments\']"\n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// listOfCompartments\n</span>\n      <xsl:apply-templates select="*[local-name()=\'compartment\']" mode="heta"/>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfSpecies --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfSpecies\']"\n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// listOfSpecies\n</span>\n      <xsl:apply-templates select="*[local-name()=\'species\']" mode="heta"/>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfParameters --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfParameters\']" \n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// listOfParameters\n</span>\n      <xsl:apply-templates select="*[local-name()=\'parameter\']" mode="heta"/>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfReactions --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfReactions\']" \n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// listOfReactions\n</span>\n      <xsl:apply-templates select="*[local-name()=\'reaction\']" mode="heta"/>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfInitialAssignments --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfInitialAssignments\']" \n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// listOfInitialAssignments\n</span>\n      <xsl:apply-templates select="*[local-name()=\'initialAssignment\']" mode="heta"/>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfRules --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfRules\']" \n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// listOfRules\n</span>\n      <xsl:apply-templates select="*[local-name()=\'assignmentRule\']|*[local-name()=\'rateRule\']|*[local-name()=\'algebraicRule\']" mode="heta"/>\n    </span>\n  </xsl:template>\n\n  \x3c!-- listOfEvents --\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfEvents\']" \n    mode="heta"\n    >\n    <span class="heta-block">\n      <span class="heta-comment">\n// listOfEvents\n</span>\n      <xsl:apply-templates select="*[local-name()=\'event\']" mode="heta"/>\n    </span>\n  </xsl:template>\n\n\x3c!-- END listOf --\x3e\n\n\x3c!-- BEGIN unsupported components --\x3e\n\n  <xsl:template \n    match="*[local-name()=\'functionDefinition\']" \n    mode="heta"\n    >\n    <xsl:text>  </xsl:text><xsl:value-of select="@id"/><xsl:apply-templates select="mml:math"/>\n</xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'constraint\']" \n    mode="heta"\n    >\n    <xsl:text>  </xsl:text><xsl:apply-templates select="mml:math"/>\n    <xsl:text>\n</xsl:text>\n  </xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'compartmentType\']" \n    mode="heta"\n    >\n    <xsl:value-of select="@id"/><xsl:if test="position()!=last()">, </xsl:if>\n  </xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'speciesType\']" \n    mode="heta"\n    >\n    <xsl:value-of select="@id"/><xsl:if test="position()!=last()">, </xsl:if>\n  </xsl:template>\n\n\x3c!-- END unsupported components --\x3e\n\n\x3c!-- BEGIN components --\x3e\n\n  <xsl:template \n    match="*[local-name()=\'unitDefinition\']" \n    mode="heta"\n    >\n    <xsl:text>\n</xsl:text>\n    <xsl:apply-templates select="." mode="heta-sugar"/>\n  </xsl:template>\n\n  <xsl:template \n    match="\n      *[local-name()=\'compartment\']\n      |*[local-name()=\'species\']\n      |*[local-name()=\'parameter\']\n    "\n    mode="heta"\n    >\n    <xsl:param name="forceId"/>\n    <xsl:text>\n</xsl:text>\n    <xsl:apply-templates select="." mode="heta-sugar">\n      <xsl:with-param name="forceId" select="$forceId"/>\n    </xsl:apply-templates>\n    <xsl:apply-templates select="." mode="heta-assignment">\n      <xsl:with-param name="forceId" select="$forceId"/>\n    </xsl:apply-templates>\n    \x3c!--\n    <xsl:apply-templates select="@compartmentType"/>\n    --\x3e\n  </xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'reaction\']" \n    mode="heta"\n    >\n    <xsl:text>\n</xsl:text>\n    <xsl:apply-templates select="." mode="heta-sugar"/>\n    <xsl:apply-templates select="." mode="heta-assignments-ode"/>\n    <xsl:apply-templates select="*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']/*[local-name()=\'parameter\']" mode="heta">\n      <xsl:with-param name="forceId" select="concat(\'__\', @id ,\'_local\')"/>\n    </xsl:apply-templates>\n  </xsl:template>\n\n  <xsl:template \n    match="*" \n    mode="heta-sugar"\n    >\n    <xsl:param name="forceId"/>\n    <span class="heta-base">\n      <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="heta-sugar"/>\n      <xsl:apply-templates select="@id" mode="heta-sugar"/>\n      <xsl:if test="$forceId"><span class="heta-id"><xsl:value-of select="$forceId"/></span></xsl:if>\n      <xsl:apply-templates select="." mode="heta-class"/>\n      <xsl:apply-templates select="@name" mode="heta-sugar"/>\n      <xsl:apply-templates select="." mode="heta-dict"/>\n      <span class="heta-end">;\n</span>\n    </span>\n  </xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'initialAssignment\']" \n    mode="heta"\n    >\n    <xsl:apply-templates select="@symbol" mode="heta-sugar"/>\n    <span class="heta-assignments"> .= </span>\n    <span class="heta-string heta-math-expr"> <xsl:apply-templates select="mml:math"/></span>;\n</xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'assignmentRule\']" \n    mode="heta"\n    >\n    <xsl:apply-templates select="@variable" mode="heta-sugar"/>\n    <span class="heta-assignments"> := </span>\n    <span class="heta-string heta-math-expr"> <xsl:apply-templates select="mml:math"/></span>; <span class="heta-comment">// assignmentRule</span>\n    <xsl:text>\n</xsl:text>\n  </xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'rateRule\']" \n    mode="heta"\n    >\n    <span class="heta-comment">// <xsl:value-of select="@variable"/>\' = <xsl:apply-templates select="mml:math"/></span>\n    <span class="heta-comment"> // rateRule (not supported)</span>\n    <xsl:text>\n</xsl:text>\n  </xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'algebraicRule\']" \n    mode="heta"\n    >\n    <span class="heta-comment">// 0 = <xsl:apply-templates select="mml:math"/></span>\n    <span class="heta-comment"> // algebraicRule (not supported)</span>\n    <xsl:text>\n</xsl:text>\n  </xsl:template>\n\n  \x3c!-- event with id --\x3e\n  <xsl:template \n    match="*[local-name()=\'event\']" \n    mode="heta"\n    >\n    <xsl:text>\n</xsl:text>\n    <xsl:variable name="forceId" select="@id"/>\n    <xsl:apply-templates select="." mode="heta-sugar"/>\n    <xsl:apply-templates select="*[local-name()=\'listOfEventAssignments\']/*[local-name()=\'eventAssignment\']" mode="heta-event-assignment">\n      <xsl:with-param name="forceId" select="$forceId"/>\n    </xsl:apply-templates>\n  </xsl:template>\n\n  \x3c!-- event withouts id --\x3e\n  <xsl:template \n    match="*[local-name()=\'event\' and not(@id)]" \n    mode="heta"\n    >\n    <xsl:text>\n</xsl:text>\n    <xsl:variable name="forceId" select="generate-id()"/>\n    <xsl:apply-templates select="." mode="heta-sugar">\n      <xsl:with-param name="forceId" select="$forceId"/>\n    </xsl:apply-templates>\n    <xsl:apply-templates select="*[local-name()=\'listOfEventAssignments\']/*[local-name()=\'eventAssignment\']" mode="heta-event-assignment">\n      <xsl:with-param name="forceId" select="$forceId"/>\n    </xsl:apply-templates>\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'eventAssignment\']"\n    mode="heta-event-assignment"\n    >\n    <xsl:param name="forceId"/>\n    <xsl:apply-templates select="@variable" mode="heta-sugar"/>\n    <span class="heta-assignments"><xsl:text> [</xsl:text><xsl:value-of select="$forceId"/><xsl:text>]= </xsl:text></span>\n    <span class="heta-string heta-math-expr"><xsl:apply-templates select="mml:math"/></span>\n    <span class="heta-end">;</span>\n    <xsl:text>\n</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'unitDefinition\']" mode="heta-class">\n    <span class="heta-class"> @UnitDef</span>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'compartment\']" mode="heta-class">\n    <span class="heta-class"> @Compartment</span>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\']" mode="heta-class">\n    <span class="heta-class"> @Species</span>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'parameter\']" mode="heta-class">\n    <span class="heta-class"> @Record</span>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'parameter\' and @constant=\'true\']" mode="heta-class">\n    <span class="heta-class"> @Const</span>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'reaction\']" mode="heta-class">\n    <span class="heta-class"> @Reaction</span>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'event\']" mode="heta-class">\n    <span class="heta-class"> @DSwitcher</span>\n  </xsl:template>\n\x3c!-- END components --\x3e\n\n\x3c!-- BEGIN assignments --\x3e\n\n  \x3c!-- no value --\x3e\n  <xsl:template\n    match="*"\n    mode="heta-assignment"\n    >\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'compartment\' and @size]"\n    mode="heta-assignment"\n    >\n    <span>\n      <xsl:apply-templates select="@id" mode="heta-sugar"/>\n      <span class="heta-assignments"> .= </span>\n      <span class="heta-string heta-math-expr"> <xsl:value-of select="@size"/></span>\n      <span class="heta-end">;\n</span>\n    </span>\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'species\' and @initialConcentration and not(@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]"\n    mode="heta-assignment"\n    >\n    <span>\n      <xsl:apply-templates select="@id" mode="heta-sugar"/>\n      <span class="heta-assignments"> .= </span>\n      <span class="heta-string heta-math-expr"><xsl:value-of select="@initialConcentration"/></span>\n      <span class="heta-end">;\n</span>\n    </span>\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'species\' and @initialAmount and (@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]"\n     mode="heta-assignment"\n     >\n    <span>\n      <xsl:apply-templates select="@id" mode="heta-sugar"/>\n      <span class="heta-assignments"> .= </span>\n      <span class="heta-string heta-math-expr"><xsl:value-of select="@initialAmount"/></span>\n      <span class="heta-end">;\n</span>\n    </span>\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'species\' and @initialAmount and not(@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]"\n    mode="heta-assignment"\n    >\n    <span>\n      <xsl:apply-templates select="@id" mode="heta-sugar"/>\n      <span class="heta-assignments"> .= </span>\n      <span class="heta-string heta-math-expr"><xsl:value-of select="@initialAmount"/> / <xsl:value-of select="@compartment"/></span>\n      <span class="heta-end">;\n</span>\n    </span>\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'species\' and @initialConcentration and (@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]"\n    mode="heta-assignment"\n    >\n    <span>\n      <xsl:apply-templates select="@id" mode="heta-sugar"/>\n      <span class="heta-assignments"> .= </span>\n      <span class="heta-string heta-math-expr"><xsl:value-of select="@initialConcentration"/> * <xsl:value-of select="@compartment"/></span>\n      <span class="heta-end">;\n</span>\n    </span>\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'species\' and (@initialAmount=\'0\' or @initialConcentration=\'0\')]"\n    mode="heta-assignment"\n    >\n    <span>\n      <xsl:apply-templates select="@id" mode="heta-sugar"/>\n      <span class="heta-assignments"> .= </span>\n      <span class="heta-string heta-math-expr">0</span>\n      <span class="heta-end">;\n</span>\n    </span>\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'parameter\' and @value and not(@constant=\'true\')]"\n    mode="heta-assignment"\n    >\n    <xsl:param name="forceId"/>\n    <xsl:apply-templates select="@id" mode="heta-sugar"/>\n    <xsl:if test="$forceId"><span class="heta-id"><xsl:value-of select="$forceId"/></span></xsl:if>\n    <span class="heta-assignments"> .= </span>\n    <span class="heta-string heta-math-expr"> <xsl:value-of select="@value"/></span>\n    <span class="heta-end">;\n</span>\n  </xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'parameter\' and @value and @constant=\'true\']"\n    mode="heta-assignment"\n    >\n    <xsl:param name="forceId"/>\n    <xsl:apply-templates select="@id" mode="heta-sugar"/>\n    <xsl:if test="$forceId"><span class="heta-id"><xsl:value-of select="$forceId"/></span></xsl:if>\n    <span class="heta-assignments"> = </span>\n    <span class="heta-string heta-math-expr"> <xsl:value-of select="@value"/></span>\n    <span class="heta-end">;\n</span>\n  </xsl:template>\n\n  <xsl:template \n    match="*[local-name()=\'reaction\' and *[local-name()=\'kineticLaw\']/mml:math]"\n    mode="heta-assignments-ode"\n    >\n    <span>\n      <xsl:apply-templates select="@id" mode="heta-sugar"/>\n      <span class="heta-assignments"> := </span>\n      <span class="heta-string heta-math-expr">\n        <xsl:apply-templates select="*[local-name()=\'kineticLaw\']/mml:math"/>\n      </span>\n      <span class="heta-end">;\n</span>\n    </span>\n  </xsl:template>\n\n\x3c!-- END assignments --\x3e\n\n\x3c!-- BEGIN dictionary --\x3e\n\n  \x3c!-- base dict --\x3e\n  <xsl:template\n    match="*"\n    mode="heta-dict"\n    >\n    <xsl:if test="local-name()!=\'parameter\' or @units or $fullForm=\'true\'">\n    <span class="heta-dict"> {\n<xsl:apply-templates select="@*" mode="heta-dict-item"/>\n    <xsl:apply-templates select="." mode="heta-dict-boundary"/>\n    <xsl:apply-templates select="." mode="heta-dict-is-amount"/>\n    <xsl:apply-templates select="." mode="heta-dict-aux"/>\n    <xsl:text>}</xsl:text></span>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- unitDef dict --\x3e\n  <xsl:template\n    match="*[local-name()=\'unitDefinition\']"\n    mode="heta-dict"\n    >\n    <span class="heta-dict"> {\n<xsl:apply-templates select="@*" mode="heta-dict-item"/>\n      <xsl:apply-templates select="*[local-name()=\'listOfUnits\']" mode="heta-dict-item"/>\n      <xsl:apply-templates select="." mode="heta-dict-aux"/>\n      <xsl:text>}</xsl:text>\n    </span>\n  </xsl:template>\n\n  \x3c!-- reaction dict --\x3e\n  <xsl:template\n    match="*[local-name()=\'reaction\']"\n    mode="heta-dict"\n    >\n    <span class="heta-dict"> {\n<xsl:apply-templates select="@*" mode="heta-dict-item"/>\n      <xsl:apply-templates select="." mode="heta-dict-actors"/>\n      <xsl:apply-templates select="*[local-name()=\'listOfModifiers\']" mode="heta-dict-item"/>\n      <xsl:apply-templates select="." mode="heta-dict-aux"/>\n      <xsl:text>}</xsl:text></span>\n  </xsl:template>\n\n  \x3c!-- event dict --\x3e\n  <xsl:template\n    match="*[local-name()=\'event\']"\n    mode="heta-dict"\n    >\n    <span class="heta-dict"> {\n<xsl:apply-templates select="@*" mode="heta-dict-item"/>\n      <xsl:apply-templates select="." mode="heta-dict-trigger"/>\n      <xsl:apply-templates select="." mode="heta-dict-aux"/>\n      <xsl:text>}</xsl:text></span>\n  </xsl:template>\n\n  \x3c!-- aux item --\x3e\n  <xsl:template\n    match="*"\n    mode="heta-dict-aux"\n    >\n    <xsl:variable \n      name="auxProp"\n      select="@spatialDimensions|@metaid|@sboTerm|@outside|@spatialSizeUnits|@charge|*[local-name()=\'annotation\']"\n      />\n    <xsl:if test="$fullForm=\'true\' and count($auxProp)!=\'0\'">\n    <span class="heta-dict-key">  aux: </span>\n    <span class="heta-dict">{<xsl:apply-templates select="$auxProp" mode="heta-dict-aux-item"/>}\n</span>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- annotation item --\x3e\n  <xsl:template\n    match="*[local-name()=\'annotation\']"\n    mode="heta-dict-aux-item"\n    >\n    <xsl:if test="position()=1"><xsl:text>\n  </xsl:text></xsl:if>\n    <span class="heta-dict-key">  annotation: </span>\n    <span class="heta-dict-item heta-array">[<xsl:apply-templates select="*" mode="heta-dict-aux-annotation"/>]\n  </span>\n  </xsl:template>\n\n\x3c!-- END dictionary --\x3e\n\n\x3c!-- BEGIN properties --\x3e\n\n  <xsl:template \n    match="@*"\n    mode="heta-dict-item"\n    >\x3c!-- all this properties --\x3e\n    </xsl:template>\n\n  <xsl:template \n    match="\n      @compartmentType\n      |@speciesType\n      "\n    mode="heta-dict-item"\n    >\n    <span class="heta-dict-key">  tags: </span>\n    <span class="heta-array heta-dict-value">[<span class="heta-string"><xsl:value-of select="."/></span>]</span>,\n</xsl:template>\n\n  <xsl:template \n    match="@units"\n    mode="heta-dict-item"\n    >\n    <span class="heta-dict-key">  units: </span>\n    <span class="heta-string heta-dict-value"><xsl:value-of select="."/></span>,\n</xsl:template>\n\n  <xsl:template \n    match="@substanceUnits"\n    mode="heta-dict-item"\n    >\n    <xsl:if test="not((../@hasOnlySubstanceUnits=\'true\') or key(\'idKey\',../@compartment)/@spatialDimensions=\'0\')and key(\'idKey\', ../@compartment)/@units">\n      <span class="heta-dict-key">  units: </span>\n      <span class="heta-dict-value heta-string"><xsl:value-of select="."/>/<xsl:value-of select="key(\'idKey\', ../@compartment)/@units"/></span>,\n</xsl:if>\n    <xsl:if test="../@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',../@compartment)/@spatialDimensions=\'0\'">\n    <span class="heta-dict-key">  units: </span>\n    <span class="heta-dict-value heta-string"><xsl:value-of select="."/></span>,\n</xsl:if>\n</xsl:template>\n\n  <xsl:template\n    match="@compartment"\n    mode="heta-dict-item"\n    >\n    <span class="heta-dict-key">  compartment: </span>\n    <span class="heta-dict-value heta-string"><xsl:value-of select="."/></span>,\n</xsl:template>\n\x3c!--\n  <xsl:template\n    match="@hasOnlySubstanceUnits"\n    mode="heta-dict-item"\n    >\n    <span class="heta-dict-key"> isAmount: </span>\n    <span class="heta-boolean heta-dict-value"><xsl:value-of select="."/></span>,\n</xsl:template>\n--\x3e\n  <xsl:template\n    match="*[local-name()=\'listOfUnits\']"\n    mode="heta-dict-item"\n    >\n    <span class="heta-dict-key">  units: </span>\n    <span class="heta-dict-value heta-array">[<xsl:apply-templates select="*[local-name()=\'unit\']" mode="unitFormula"/>]</span><xsl:text>,\n</xsl:text>\n</xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'unit\']"\n    mode="unitFormula"\n    >\n    <span class="heta-array-item heta-dict"><xsl:text>{</xsl:text>\n    <span class="heta-dict-key">kind</span>: <span class="heta-dict-value heta-string"><xsl:value-of select="@kind"/></span>\n    <xsl:if test="(@multiplier and @multiplier!=\'1\') or (@scale and @scale!=\'0\')">, <span class="heta-dict-key">multiplier</span>: <span class="heta-dict-value heta-string">\n      <xsl:if test="not(@multiplier)">1</xsl:if><xsl:value-of select="@multiplier"/>\n      <xsl:if test="@scale and @scale!=\'0\'">e<xsl:value-of select="@scale"/></xsl:if>\n    </span></xsl:if>\n    <xsl:if test="@exponent and @exponent!=\'1\'">, <span class="heta-dict-key">exponent</span>: <span class="heta-dict-value heta-string"><xsl:value-of select="@exponent"/></span></xsl:if>\n    <xsl:text>}</xsl:text></span>\n    <xsl:if test="position()!=last()">, </xsl:if>\n</xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'reaction\']"\n    mode="heta-dict-actors"\n    >\n    <span class="heta-dict-key">  actors: </span>\n    <span class="heta-dict-value heta-string"><xsl:apply-templates select="." mode="reactionFormula"/></span>,\n</xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'listOfModifiers\']"\n    mode="heta-dict-item"\n    >\n    <span class="heta-dict-key">  modifiers: </span>\n    <span class="heta-dict-value heta-array"><xsl:apply-templates select="." mode="reactionFormula"/></span>,\n</xsl:template>\n\n  <xsl:template\n    match="*[local-name()=\'event\']"\n    mode="heta-dict-trigger"\n    >\n    <span class="heta-dict-key">  trigger: </span>\n    <span class="heta-dict-value heta-string"><xsl:apply-templates select="*[local-name()=\'trigger\']/mml:math"/></span>,\n</xsl:template>\n\n  \x3c!-- no boundary as default --\x3e\n  <xsl:template\n    match="*"\n    mode="heta-dict-boundary"\n    >\n</xsl:template>\n\n  \x3c!-- boundary for compartment --\x3e\n  <xsl:template\n    match="*[local-name()=\'compartment\' and not(@constant=\'false\')]"\n    mode="heta-dict-boundary"\n    >\n    <span class="heta-dict-key">  boundary: </span>\n    <span class="heta-boolean heta-dict-value">true</span>,\n</xsl:template>\n\n  \x3c!-- boundary for species --\x3e\n  <xsl:template\n    match="*[local-name()=\'species\' and (@boundaryCondition=\'true\' or @constant=\'true\')]"\n    mode="heta-dict-boundary"\n    >\n    <span class="heta-dict-key">  boundary: </span>\n    <span class="heta-boolean heta-dict-value">true</span>,\n</xsl:template>\n\n  \x3c!-- isAmount for species --\x3e\n  <xsl:template\n      match="*"\n      mode="heta-dict-is-amount"\n      >\n  </xsl:template>\n  <xsl:template\n    match="*[local-name()=\'species\' and (@hasOnlySubstanceUnits=\'true\' or key(\'idKey\',@compartment)/@spatialDimensions=\'0\')]"\n    mode="heta-dict-is-amount"\n    >\n    <span class="heta-dict-key">  isAmount: </span>\n    <span class="heta-boolean heta-dict-value">true</span>,\n</xsl:template>\n\x3c!-- END properties --\x3e\n\n\x3c!-- BEGIN reactionFormula mode --\x3e\n  <xsl:template\n    match="*[local-name()=\'reaction\']" \n    mode="reactionFormula"\n    >\n    <xsl:if test="count(*[local-name()=\'listOfReactants\']/*[local-name()=\'speciesReference\'])=0"></xsl:if>\n    <xsl:apply-templates select="*[local-name()=\'listOfReactants\']" mode="reactionFormula"/>\n    <xsl:if test="@reversible=\'false\' and @fast=\'true\'"> -> </xsl:if>\n    <xsl:if test="not(@reversible=\'false\') and @fast=\'true\'"> &#60;-> </xsl:if>\n    <xsl:if test="@reversible=\'false\' and not(@fast=\'true\')"> => </xsl:if>\n    <xsl:if test="not(@reversible=\'false\') and not(@fast=\'true\')"> &#60;=> </xsl:if>\n    <xsl:if test="count(*[local-name()=\'listOfProducts\']/*[local-name()=\'speciesReference\'])=0"></xsl:if>\n    <xsl:apply-templates select="*[local-name()=\'listOfProducts\']" mode="reactionFormula"/>\n  </xsl:template>\n\n  \x3c!-- listOfReactants / listOfProducts--\x3e\n  <xsl:template \n    match="\n      *[local-name()=\'listOfReactants\']\n      |*[local-name()=\'listOfProducts\']\n      " \n    mode="reactionFormula"\n    >\n    <xsl:for-each select="*[local-name()=\'speciesReference\']">\n      <xsl:if test="@stoichiometry!=\'1\'"><xsl:value-of select="@stoichiometry"/>*</xsl:if>\n    <xsl:value-of select="@species"/>\n      <xsl:if test="position()!=last()"> + </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  \x3c!-- listOfModifiers--\x3e\n  <xsl:template \n    match="*[local-name()=\'listOfModifiers\']"\n    mode="reactionFormula"\n    >[<xsl:for-each select="*[local-name()=\'modifierSpeciesReference\']">\n    <span class="heta-array-item heta-string"><xsl:value-of select="@species"/></span>\n      <xsl:if test="position()!=last()">, </xsl:if>\n    </xsl:for-each>]</xsl:template>\n\x3c!-- END reactionFormula mode --\x3e\n\n\x3c!-- BEGIN aux properties --\x3e\n  \x3c!-- all other prop --\x3e\n  <xsl:template\n    match="@*"\n    mode="heta-dict-aux-item"\n    >\n    <xsl:if test="position()=1"><xsl:text>\n  </xsl:text></xsl:if>\n    <xsl:text>  </xsl:text>\n    <span class="heta-dict-key"><xsl:value-of select="local-name()"/>: </span>\n    <span class="heta-dict-value heta-string"><xsl:value-of select="."/></span><xsl:if test="position()!=last()">,</xsl:if><xsl:text>\n  </xsl:text>\n  </xsl:template>\n\n\x3c!-- END aux properties --\x3e\n\n\x3c!-- BEGIN annotation properties --\x3e\n\n  <xsl:template\n    match="*"\n    mode="heta-dict-aux-annotation"\n    >\n    <xsl:text>{</xsl:text>\n    <span class="heta-dict-key">type</span>: <span class="heta-dict-value heta-string">element</span><xsl:text>, </xsl:text>\n      <span class="heta-dict-key">name</span>: <span class="heta-dict-value heta-string"><xsl:value-of select="name()"/></span><xsl:text>, </xsl:text>\n      \x3c!--<span class="heta-dict-key">uri_</span>: <span class="heta-dict-value heta-string"><xsl:value-of select="namespace-uri()"/></span>,--\x3e\n      <xsl:if test="count(@*)"><span class="heta-dict-key">attributes</span>: <span class="heta-array">[<xsl:apply-templates select="@*" mode="heta-dict-aux-annotation-attributes"/>]</span><xsl:if test="count(*)>0">, </xsl:if></xsl:if>\n      <xsl:apply-templates select="." mode="heta-dict-aux-annotation-elements"/>\n    <xsl:text>}</xsl:text>\n  </xsl:template>\n\n  <xsl:template\n    match="*[count(*)>0]"\n    mode="heta-dict-aux-annotation-elements"\n    >\n    <span class="heta-dict-key">elements</span><xsl:text>: </xsl:text>\n    <span class="heta-array">[<xsl:apply-templates select="*" mode="heta-dict-aux-annotation"/>]</span>\n  </xsl:template>\n\n  <xsl:template\n    match="@*"\n    mode="heta-dict-aux-annotation-attributes"\n    >\n    <span class="heta-dict-key"><xsl:value-of select="name()"/></span>\n    <xsl:text>: </xsl:text>\n    <span class="heta-dict-value heta-string"><xsl:value-of select="."/></span>\n    <xsl:if test="position()!=last()">, </xsl:if>\n  </xsl:template>\n\n\x3c!-- END annotation properties --\x3e\n\n\x3c!-- BEGIN MathML --\x3e\n\n  \x3c!-- unknown mml element --\x3e\n  <xsl:template match="mml:*">\n    <span class="heta-debug"> { unsupported MathML } </span>\n  </xsl:template>\n\n  <xsl:template match="mml:math">\n    <xsl:apply-templates select="*"/>\n  </xsl:template>\n\n  \x3c!-- lambda --\x3e\n  <xsl:template match="mml:lambda">\n    <xsl:text>(</xsl:text>\n    <xsl:apply-templates select="mml:bvar/mml:ci"/> \x3c!-- only lambda arguments --\x3e\n    <xsl:text>) = </xsl:text>\n    <xsl:apply-templates select="*[local-name()!=\'bvar\']"/> \x3c!-- exclude lambda arguments --\x3e\n    <xsl:text>\n</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="mml:lambda/mml:bvar/mml:ci"> \n    <xsl:value-of select="normalize-space(text())"/><xsl:if test="position()!=last()">, </xsl:if>\n  </xsl:template>\n\n  \x3c!-- any mathml internal function without changes --\x3e\n  <xsl:template match="mml:apply">\n    <xsl:value-of select="local-name(*[1])"/>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template>\n\n  \x3c!-- delay --\x3e\n  <xsl:template match="mml:apply[mml:csymbol[@definitionURL=\'http://www.sbml.org/sbml/symbols/delay\']]">\n    <i>delay</i>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template>\n\n  \x3c!-- log --\x3e\n  <xsl:template match="mml:apply[mml:log]">\n    <xsl:text>log10</xsl:text>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template>\n\n  \x3c!-- log_base --\x3e\n  <xsl:template match="mml:apply[mml:log and mml:logbase]">\n    <xsl:text>log</xsl:text>\n    <xsl:text>(</xsl:text>\n    <xsl:apply-templates select="mml:ci|mml:cn"/>, <xsl:apply-templates select="mml:logbase/mml:ci|mml:logbase/mml:cn"/>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- log_base --\x3e\n  <xsl:template match="mml:apply[mml:log and mml:logbase and mml:logbase/mml:cn and number(mml:logbase/mml:cn)=2]">\n    <xsl:text>log</xsl:text>\n    <xsl:text>(</xsl:text>\n    <xsl:apply-templates select="mml:ci|mml:cn"/>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- power --\x3e\n  <xsl:template match="mml:apply[mml:power]">\n    <xsl:text>pow</xsl:text>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template>\n\n  \x3c!-- root --\x3e\n  <xsl:template match="mml:apply[mml:root]">\n    <xsl:text>nthRoot</xsl:text>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template>\n\n  \x3c!-- sqrt --\x3e\n  <xsl:template match="mml:apply[mml:root and count(*)=2]">\n    <xsl:text>sqrt(</xsl:text>\n    <xsl:apply-templates select="*[2]"/>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- max 1\n  <xsl:template match="mml:apply[mml:max and count(mml:*)=2]">\n    <xsl:apply-templates select="mml:*[2]"/>\n  </xsl:template> --\x3e\n\n  \x3c!-- max 2\n  <xsl:template match="mml:apply[mml:max and count(mml:*)=3]">\n    <xsl:text>max2</xsl:text>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template> --\x3e\n\n  \x3c!-- max 3\n  <xsl:template match="mml:apply[mml:max and count(mml:*)=4]">\n    <xsl:text>max3</xsl:text>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template> --\x3e\n\n  \x3c!-- min 1\n  <xsl:template match="mml:apply[mml:min and count(mml:*)=2]">\n    <xsl:apply-templates select="mml:*[2]"/>\n  </xsl:template> --\x3e\n\n  \x3c!-- min 2\n  <xsl:template match="mml:apply[mml:min and count(mml:*)=3]">\n    <xsl:text>min2</xsl:text>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template> --\x3e\n\n  \x3c!-- min 3\n  <xsl:template match="mml:apply[mml:min and count(mml:*)=4]">\n    <xsl:text>min3</xsl:text>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template> --\x3e\n\n  \x3c!-- function arguments --\x3e\n  <xsl:template match="mml:apply" mode="arguments">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()">, </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- x*y*z --\x3e\n  <xsl:template match="mml:apply[mml:times]">\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/><xsl:if test="position()!=last()"> * </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  \x3c!-- x/y/z --\x3e\n  <xsl:template match="mml:apply[mml:divide]">\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/><xsl:if test="position()!=last()"> / </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  \x3c!-- x-y-z --\x3e\n  <xsl:template match="mml:apply[mml:minus]">\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> - </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  \x3c!-- x+y+z --\x3e\n  <xsl:template match="mml:apply[mml:plus]">\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> + </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  \x3c!-- arbitrary functions as ci fun(x, y, z) --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci]]">\n    <xsl:apply-templates select="mml:ci[1]"/>\n    <xsl:apply-templates select="." mode="arguments"/>\n  </xsl:template>\n\n  \x3c!-- a*(x-y-z) a/(x-y-z) a-(x-y-z)--\x3e\n  <xsl:template match="mml:apply[mml:times or mml:divide or mml:minus]/mml:apply[mml:minus]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> - </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- a*(x+y+z) a/(x+y+z) a-(x+y+z) --\x3e\n  <xsl:template match="mml:apply[mml:times or mml:divide or mml:minus]/mml:apply[mml:plus]">\n    <xsl:text> (</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> + </xsl:if>\n    </xsl:for-each>\n    <xsl:text>) </xsl:text>\n  </xsl:template>\n\n  \x3c!-- peicewise with many pieces--\x3e\n  <xsl:template match="mml:piecewise">\n    <span class="heta-debug"> { use only one piece in MathML peicewise } </span>\n  </xsl:template>\n\n  \x3c!-- piecewise lt --\x3e\n  <xsl:template match="mml:piecewise[count(mml:piece)=1][mml:piece/mml:apply/*[1][self::mml:lt]]">\n    <xsl:text>ifg0(</xsl:text>\n    <xsl:apply-templates select="mml:piece/mml:apply/*[3]"/>-<xsl:apply-templates select="mml:piece/mml:apply/*[2]"/>, <xsl:apply-templates select="mml:piece/*[1]"/>, <xsl:apply-templates select="mml:otherwise/*[1]" />\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- piecewise gt --\x3e\n  <xsl:template match="mml:piecewise[count(mml:piece)=1][mml:piece/mml:apply/*[1][self::mml:gt]]">\n    <xsl:text>ifg0(</xsl:text>\n    <xsl:apply-templates select="mml:piece/mml:apply/*[2]"/>-<xsl:apply-templates select="mml:piece/mml:apply/*[3]"/>, <xsl:apply-templates select="mml:piece/*[1]"/>, <xsl:apply-templates select="mml:otherwise/*[1]" />\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- piecewise leq --\x3e\n  <xsl:template match="mml:piecewise[count(mml:piece)=1][mml:piece/mml:apply/*[1][self::mml:leq]]">\n    <xsl:text>ifge0(</xsl:text>\n    <xsl:apply-templates select="mml:piece/mml:apply/*[3]"/>-<xsl:apply-templates select="mml:piece/mml:apply/*[2]"/>, <xsl:apply-templates select="mml:piece/*[1]"/>, <xsl:apply-templates select="mml:otherwise/*[1]" />\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- piecewise geq --\x3e\n  <xsl:template match="mml:piecewise[count(mml:piece)=1][mml:piece/mml:apply/*[1][self::mml:geq]]">\n    <xsl:text>ifge0(</xsl:text>\n    <xsl:apply-templates select="mml:piece/mml:apply/*[2]"/>-<xsl:apply-templates select="mml:piece/mml:apply/*[3]"/>, <xsl:apply-templates select="mml:piece/*[1]"/>, <xsl:apply-templates select="mml:otherwise/*[1]" />\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- piecewise eq --\x3e\n  <xsl:template match="mml:piecewise[count(mml:piece)=1][mml:piece/mml:apply/*[1][self::mml:eq]]">\n    <xsl:text>ife0(</xsl:text>\n    <xsl:apply-templates select="mml:piece/mml:apply/*[2]"/>-<xsl:apply-templates select="mml:piece/mml:apply/*[3]"/>, <xsl:apply-templates select="mml:piece/*[1]"/>, <xsl:apply-templates select="mml:otherwise/*[1]" />\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- piecewise neq --\x3e\n  <xsl:template match="mml:piecewise[count(mml:piece)=1][mml:piece/mml:apply/*[1][self::mml:neq]]">\n    <xsl:text>ife0(</xsl:text>\n    <xsl:apply-templates select="mml:piece/mml:apply/*[2]"/>-<xsl:apply-templates select="mml:piece/mml:apply/*[3]"/>, <xsl:apply-templates select="mml:otherwise/*[1]"/>, <xsl:apply-templates select="mml:piece/*[1]"/>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- and --\x3e\n  <xsl:template match="mml:apply[mml:and]">\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> &amp; </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  <xsl:template match="mml:apply/mml:apply[mml:and]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> &amp; </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- or --\x3e\n  <xsl:template match="mml:apply[mml:or]">\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> | </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n  \n  <xsl:template match="mml:apply/mml:apply[mml:or]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> | </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- lt --\x3e\n  <xsl:template match="mml:apply[mml:lt]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> &lt; </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- leq --\x3e\n  <xsl:template match="mml:apply[mml:leq]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> &lt;= </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- gt --\x3e\n  <xsl:template match="mml:apply[mml:gt]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> &gt; </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- geq --\x3e\n  <xsl:template match="mml:apply[mml:geq]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> &gt;= </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- eq --\x3e\n  <xsl:template match="mml:apply[mml:eq]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> == </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- neq --\x3e\n  <xsl:template match="mml:apply[mml:neq]">\n    <xsl:text>(</xsl:text>\n    <xsl:for-each select="*[position()&gt;1]">\n      <xsl:apply-templates select="."/>\n      <xsl:if test="position()!=last()"> != </xsl:if>\n    </xsl:for-each>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  \x3c!-- <ci> --\x3e\n  <xsl:template match="mml:ci">\n    <xsl:value-of select="normalize-space(text())"/>\n  </xsl:template>\n\n  \x3c!-- <true/> --\x3e\n  <xsl:template match="mml:true">\n    <xsl:text>true</xsl:text>\n  </xsl:template>\n\n  \x3c!-- <false/> --\x3e\n  <xsl:template match="mml:false">\n    <xsl:text>false</xsl:text>\n  </xsl:template>\n\n  \x3c!-- <cn> --\x3e\n  <xsl:template match="mml:cn">\n    <xsl:value-of select="normalize-space(text()[1])"/>\n  </xsl:template>\n\n  <xsl:template match="mml:apply/mml:cn[number(text()[1]) &lt; 0]">\n    <xsl:text>(</xsl:text>\n    <xsl:value-of select="normalize-space(text()[1])"/>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="mml:cn[@type=\'rational\']">\n    <xsl:value-of select="normalize-space(text()[1])"/>\n    <xsl:text>/</xsl:text>\n    <xsl:value-of select="normalize-space(text()[2])"/>\n  </xsl:template>\n  \n  <xsl:template match="mml:apply/mml:cn[@type=\'rational\']">\n    <xsl:text>(</xsl:text>\n    <xsl:value-of select="normalize-space(text()[1])"/>\n    <xsl:text>/</xsl:text>\n    <xsl:value-of select="normalize-space(text()[2])"/>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="mml:cn[@type=\'e-notation\']">\n    <xsl:value-of select="normalize-space(text()[1])"/>\n    <xsl:text>e</xsl:text>\n    <xsl:value-of select="normalize-space(text()[2])"/>\n  </xsl:template>\n  \n  <xsl:template match="mml:apply/mml:cn[number(text()[1]) &lt; 0]">\n    <xsl:text>(</xsl:text>\n    <xsl:value-of select="normalize-space(text()[1])"/>\n    <xsl:text>e</xsl:text>\n    <xsl:value-of select="normalize-space(text()[2])"/>\n    <xsl:text>)</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="mml:csymbol[@definitionURL=\'http://www.sbml.org/sbml/symbols/time\']">\n    <xsl:text>t</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="mml:pi">\n    <xsl:text>pi</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="mml:exponentiale">\n    <xsl:text>e</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="mml:infinity">\n    <xsl:text>Infinity</xsl:text>\n  </xsl:template>\n\n  <xsl:template match="mml:notanumber">\n    <xsl:text>NaN</xsl:text>\n  </xsl:template>\n\n\x3c!-- END MathML --\x3e\n\n\x3c!-- BEGIN XHTML --\x3e\n  \x3c!-- <xsl:strip-space elements="xhtml:body xhtml:div xhtml:pre xhtml:p" /> --\x3e\n\n  <xsl:template match="xhtml:*">\n    <span class="heta-debug"><xsl:apply-templates select="node()"/></span>\n  </xsl:template>\n\n  <xsl:template match="xhtml:*/text()">\n    <xsl:value-of select="translate(., \'&#xa;\', \'\')"/> \x3c!-- &#xa; new line --\x3e\n  </xsl:template>\n\n  <xsl:template\n    match="\n      xhtml:div\n      |xhtml:pre\n      |xhtml:p\n      "\n    >\n    <xsl:text>\n</xsl:text>\n    <xsl:apply-templates select="node()"/>\n    <xsl:text>\n</xsl:text>\n  </xsl:template>\n\n  <xsl:template\n    match="xhtml:i"\n    >\n    <xsl:text>*</xsl:text><xsl:apply-templates select="node()"/><xsl:text>*</xsl:text>\n  </xsl:template>\n\n  <xsl:template\n    match="\n      xhtml:b\n      |xhtml:strong\n      "\n    >\n    <xsl:text>**</xsl:text><xsl:apply-templates select="node()"/><xsl:text>**</xsl:text>\n  </xsl:template>\n\n  <xsl:template\n    match="xhtml:a"\n    >\n    <xsl:text> [</xsl:text>\n    <xsl:apply-templates select="node()"/>\n    <xsl:text>](</xsl:text>\n    <xsl:value-of select="@href"/>\n    <xsl:text>) </xsl:text>\n  </xsl:template>\n\n  \x3c!-- remove first level --\x3e\n  <xsl:template\n    match="*[local-name()=\'notes\']/xhtml:*"\n    >\n    <xsl:apply-templates select="node()"/>\n  </xsl:template>\n\n  \x3c!--\n      <xsl:for-each select="node()">\n      <xsl:if test="(position()!=last() and position()!=1) or normalize-space()!=\'\'">\n        <xsl:apply-templates select="."/>\n      </xsl:if>\n    </xsl:for-each>\n  --\x3e\n\n\x3c!-- END XHTML --\x3e\n\n</xsl:stylesheet>\n'},mJaa:function(e,t,l){"use strict";l("iV5L")},nz2B:function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n\x3c!--\nCopyright 2016-2021 InSysBio, LLC\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n--\x3e\n\x3c!-- INFO\nDescription: Creating representation of whole sbml into table format.\nSource files: SBML L3 V1-2 no extensions\nmodes:\n  - table\n  - reactionFormula\n  - idOrName\n  - unitFormula/unitFormulaScale\n  - link/no-link\n  - element\n\nAuthor: Evgeny Metelkin\nProject-page: http://sv.insysbio.com\n--\x3e\n<xsl:stylesheet version="1.0"\n  xmlns="http://www.w3.org/1999/xhtml"\n  xmlns:xhtml="http://www.w3.org/1999/xhtml"\n  xmlns:l3v1="http://www.sbml.org/sbml/level3/version1/core"\n  xmlns:l3v2="http://www.sbml.org/sbml/level3/version2/core"\n  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"\n  xmlns:mml="http://www.w3.org/1998/Math/MathML"\n  exclude-result-prefixes="mml xhtml l3v1 l3v2">\n\n  \x3c!-- GLOBAL KEYS --\x3e\n  <xsl:key name="idKey" match="*" use="@id"/>\n  <xsl:key name="variableKey" match="*" use="@variable"/>\n\n  \x3c!-- PARAMETERS --\x3e\n  <xsl:param name="useNames">false</xsl:param> \x3c!-- use names instead of id in equations --\x3e\n  <xsl:param name="correctMathml">false</xsl:param> \x3c!-- use correction in MathML (for simbio) always on currently--\x3e\n  <xsl:param name="equationsOff">false</xsl:param> \x3c!-- do not show equations --\x3e\n\n  \x3c!-- top --\x3e\n  <xsl:template match="/">\n    <xsl:apply-templates mode="table"/>\n  </xsl:template>\n\n  \x3c!-- SBML --\x3e\n  <xsl:template match="*[local-name()=\'sbml\']" mode="table">\n    <div class="sbml-element sbml-sbml sv-container sv-mode-table">\n      <h1 class="sv-header">SBML level <xsl:value-of select="@level"/> version <xsl:value-of select="@version"/></h1>\n      <div class="sv-content">\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'model\']" mode="table"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- model --\x3e\n  <xsl:template match="*[local-name()=\'model\']" mode="table">\n    <div class="sbml-element sbml-model sv-container">\n      <h2 class="sv-header">Model</h2>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:apply-templates select="*[contains(local-name(), \'listOf\')]" mode="table"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- annotation --\x3e\n  <xsl:template match="*[local-name()=\'annotation\']" mode="element">\n    <div class="sbml-element sbml-annotation sv-container">\n      <p class="sv-header sbml-element-name">Annotation</p>\n      <pre class="sv-content sv-raw-xml prettyprint"><xsl:copy-of select="node()"/></pre>\n    </div>\n  </xsl:template>\n\n  \x3c!-- notes --\x3e\n  <xsl:template match="*[local-name()=\'notes\']" mode="element">\n    <div class="sbml-element sbml-notes sv-container">\n      <p class="sv-header sbml-element-name">Notes</p>\n      <div class="sv-content sv-xhtml">\n        <xsl:copy-of select="node()"/>\n      </div>\n    </div>\n  </xsl:template>\n\n\x3c!--\n  <xsl:template match="*[local-name()=\'notes\' and xhtml:body]" mode="element">\n   <p><strong>notes:</strong></p>\n   <div class="note-content">\n    <xsl:copy-of select="xhtml:body/node()"/>\n   </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'notes\' and xhtml:html[xhtml:body]]" mode="element">\n   <p><strong>notes:</strong></p>\n   <div class="note-content">\n    <xsl:copy-of select="xhtml:html/xhtml:body/node()"/>\n   </div>\n  </xsl:template>\n--\x3e\n\n  \x3c!-- @attributes --\x3e\n  <xsl:template match="@*" mode="element">\n    <p>\n      <xsl:attribute name="class">sbml-attribute sbml-<xsl:value-of select="local-name()"/> sv-container</xsl:attribute>\n      <span class="sbml-attribute-name"><xsl:value-of select="local-name()"/></span>: <span class="sbml-attribute-value"><xsl:value-of select="."/></span>\n    </p>\n  </xsl:template>\n\n  \x3c!-- id --\x3e\n  <xsl:template match="@id" mode="link">\n    <span class="sbml-attribute-value sbml-id">\n      <xsl:attribute name="id"><xsl:value-of select="."/></xsl:attribute>\n      <xsl:value-of select="."/>\n    </span>\n  </xsl:template>\n\n  <xsl:template match="@id" mode="no-link">\n    <span class="sbml-attribute-value sbml-id">\n      <xsl:value-of select="."/>\n    </span>\n  </xsl:template>\n\n\t\x3c!-- SId object: internal ref --\x3e\n  <xsl:template\n    match="@species\n      |@substanceUnits\n      |@units\n      |@compartment\n      |@outside\n      |@symbol\n      |@variable">\n    <xsl:if test="not(key(\'idKey\',.))">\n      <span>\n        <xsl:attribute name="class">sbml-attribute-value sbml-<xsl:value-of select="local-name()"/> sbml-id-lost</xsl:attribute>\n        <xsl:value-of select="."/>\n      </span>\n    </xsl:if>\n\n    <xsl:if test="key(\'idKey\',.)">\n      <span>\n        <xsl:attribute name="class">sbml-attribute-value sbml-<xsl:value-of select="local-name()"/> sbml-id-ref</xsl:attribute>\n        <xsl:apply-templates select="key(\'idKey\',.)/@id" mode="idOrName"/>\n      </span>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfFunctionDefinitions --\x3e\n  <xsl:template match="*[local-name()=\'listOfFunctionDefinitions\']" mode="table">\n    <div class="sbml-listOf sbml-listOfFunctionDefinitions sv-container">\n      <h3 class="sv-header">listOfFunctionDefinitions:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th>math</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'functionDefinition\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'functionDefinition\']" mode="table">\n      <tr class="sbml-element sbml-functionDefinition">\n        <td><xsl:apply-templates select="@id" mode="no-link"/></td>\n        <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n        <td class="sbml-attribute-value sbml-metaid"><xsl:apply-templates select="@metaid" mode="table"/></td>\n        <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n      </tr>\n      <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n      <tr class="sbml-mixed sv-hidden">\n        <td colspan="4">\n          <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n          <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        </td>\n      </tr>\n      </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfUnitDefinitions --\x3e\n  <xsl:template match="*[local-name()=\'listOfUnitDefinitions\']" mode="table">\n    <div class="sbml-listOf sbml-listOfUnitDefinitions sv-container">\n      <h3 class="sv-header">listOfUnitDefinitions:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n        <tr>\n          <th>id</th>\n          <th><xsl:if test="*/@name">name</xsl:if></th>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          <th>listOfUnits</th>\n        </tr>\n        <xsl:apply-templates select="*[local-name()=\'unitDefinition\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'unitDefinition\']" mode="table">\n      <tr class="sbml-element sbml-unitDefinition">\n        <td><xsl:apply-templates select="@id" mode="no-link"/></td>\n        <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n        <td class="sbml-attribute-value sbml-metaid"><xsl:apply-templates select="@metaid" mode="table"/></td>\n        <td class="sbml-listOf sbml-listOfUnitDefinition"><xsl:apply-templates select="*[local-name()=\'listOfUnits\']" mode="unitFormula"/></td>\n      </tr>\n      <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n      <tr class="sbml-mixed sv-hidden">\n        <td colspan="4">\n          <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n          <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        </td>\n      </tr>\n      </xsl:if>\n  </xsl:template>\n\n\x3c!-- listOfCompartments --\x3e\n  <xsl:template match="*[local-name()=\'listOfCompartments\']" mode="table">\n    <div class="sbml-listOf sbml-listOfCompartments sv-container">\n      <h3 class="sv-header">listOfCompartments:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table class="sv-listof-table">\n        <tr>\n          <th>id</th>\n          <th><xsl:if test="*/@name">name</xsl:if></th>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          <th><xsl:if test="*/@constant">constant</xsl:if></th>\n          <th><xsl:if test="*/@units">units</xsl:if></th>\n          <th><xsl:if test="*/@size">size</xsl:if></th>\n          <th><xsl:if test="*/@spatialDimensions">spatial Dimensions</xsl:if></th>\n        </tr>\n        <xsl:apply-templates select="*[local-name()=\'compartment\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'compartment\']" mode="table">\n      <tr class="sbml-element sbml-compartment">\n        <td><xsl:apply-templates select="@id" mode="link"/></td>\n        <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n        <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n        <td class="sbml-attribute-value sbml-constant"><xsl:value-of select="@constant"/></td>\n        <td class="sbml-attribute-value sbml-units"><xsl:apply-templates select="@units"/></td>\n        <td class="sbml-attribute-value sbml-size"><xsl:value-of select="@size"/></td>\n        <td class="sbml-attribute-value sbml-spatialDimensions"><xsl:value-of select="@spatialDimensions"/></td>\n      </tr>\n      <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n      <tr class="sbml-mixed sv-hidden">\n        <td colspan="7">\n          <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n          <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        </td>\n      </tr>\n      </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfSpecies --\x3e\n  <xsl:template match="*[local-name()=\'listOfSpecies\']" mode="table">\n    <div class="sbml-listOf sbml-listOfSpecies sv-container">\n      <h3 class="sv-header">listOfSpecies:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th><xsl:if test="*/@constant">constant</xsl:if></th>\n            <th><xsl:if test="*/@substanceUnits">substance Units</xsl:if></th>\n            <th><xsl:if test="*/@hasOnlySubstanceUnits">hasOnly Substance Units</xsl:if></th>\n            <th><xsl:if test="*/@initialConcentration">initial Concentration</xsl:if></th>\n            <th><xsl:if test="*/@initialAmount">initial Amount</xsl:if></th>\n            <th><xsl:if test="*/@boundaryCondition">boundary Condition</xsl:if></th>\n            <th><xsl:if test="*/@compartment">compartment</xsl:if></th>\n            <th><xsl:if test="*/@conversionFactor">conversion factor</xsl:if></th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'species\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\']" mode="table">\n    <tr class="sbml-element sbml-species">\n      <td><xsl:apply-templates select="@id" mode="link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-attribute-value sbml-constant"><xsl:value-of select="@constant"/></td>\n      <td class="sbml-attribute-value sbml-substanceUnits"><xsl:apply-templates select="@substanceUnits"/></td>\n      <td class="sbml-attribute-value sbml-hasOnlySubstanceUnits"><xsl:value-of select="@hasOnlySubstanceUnits"/></td>\n      <td class="sbml-attribute-value sbml-initialConcentration"><xsl:value-of select="@initialConcentration"/></td>\n      <td class="sbml-attribute-value sbml-initialAmount"><xsl:value-of select="@initialAmount"/></td>\n      <td class="sbml-attribute-value sbml-boundaryCondition"><xsl:value-of select="@boundaryCondition"/></td>\n      <td class="sbml-attribute-value sbml-compartment"><xsl:apply-templates select="@compartment"/></td>\n      <td class="sbml-attribute-value sbml-conversationFactor"><xsl:value-of select="@conversionFactor"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="11">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfParameters --\x3e\n  <xsl:template match="*[local-name()=\'listOfParameters\']" mode="table">\n    <div class="sbml-listOf sbml-listOfParameters sv-container">\n      <h3 class="sv-header">listOfParameters:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th><xsl:if test="*/@constant">constant</xsl:if></th>\n            <th><xsl:if test="*/@units">units</xsl:if></th>\n            <th><xsl:if test="*/@value">value</xsl:if></th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'parameter\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'parameter\']" mode="table">\n    <tr class="sbml-element sbml-parameter">\n      <td><xsl:apply-templates select="@id" mode="link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-attribute-value sbml-constant"><xsl:value-of select="@constant"/></td>\n      <td class="sbml-attribute-value sbml-units"><xsl:apply-templates select="@units"/></td>\n      <td class="sbml-attribute-value sbml-value"><xsl:value-of select="@value"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="5">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfInitialAssignments annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfInitialAssignments\']" mode="table">\n    <div class="sbml-listOf sbml-listOfInitialAssignments sv-container">\n      <h3 class="sv-listof-header">listOfInitialAssignments:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th>name</th>\n            <th>sboTerm</th>\n            <th>symbol</th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th>math:</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'initialAssignment\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'initialAssignment\']" mode="table">\n    <tr class="sbml-element sbml-initialAssignment">\n      <td><xsl:apply-templates select="@id"/></td>\n      <td><xsl:apply-templates select="@name"/></td>\n      <td><xsl:apply-templates select="@sboTerm"/></td>\n      <td><xsl:apply-templates select="@symbol"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="3">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfConstraints annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfConstraints\']" mode="table">\n    <div class="sbml-listOf sbml-listOfConstraints sv-container">\n      <h3 class="sv-header">listOfConstraints:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n        <tr>\n          <th><xsl:if test="*/@id">id</xsl:if></th>\n          <th><xsl:if test="*/@name">name</xsl:if></th>\n          <th><xsl:if test="*/@sboTerm">sboTerm</xsl:if></th>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          <th><xsl:if test="*/*[local-name()=\'message\']">message</xsl:if></th>\n          <th>math:</th>\n        </tr>\n          <xsl:apply-templates select="*[local-name()=\'constraint\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'constraint\']" mode="table">\n    <tr class="sbml-element sbml-constraint">\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@id"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@sboTerm"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-element sbml-message"><xsl:apply-templates select="*[local-name()=\'message\']" mode="table"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="3">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfRules annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfRules\']" mode="table">\n    <div class="sbml-listOf sbml-listOfRules sv-container">\n      <h3 class="sv-header">listOfRules:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n        <tr>\n    \t    <th>id</th>\n    \t    <th>name</th>\n    \t    <th>sboTerm</th>\n    \t    <th>type</th>\n          <th>variable</th>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          <th>math:</th>\n        </tr>\n        <xsl:apply-templates select="*[local-name()=\'assignmentRule\'] | *[local-name()=\'algebraicRule\'] | *[local-name()=\'rateRule\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'assignmentRule\']\n    |*[local-name()=\'algebraicRule\']\n    |*[local-name()=\'rateRule\']" mode="table">\n    <tr>\n      <xsl:attribute name="class">sbml-element sbml-<xsl:value-of select="local-name()"/></xsl:attribute>\n      <td><xsl:value-of select="@id"/></td>\n      <td><xsl:value-of select="@name"/></td>\n      <td><xsl:value-of select="@sboTerm"/></td>\n      <td><xsl:value-of select="local-name()"/></td>\n      <td><xsl:apply-templates select="@variable"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="4">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfReactions annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfReactions\']" mode="table">\n    <div class="sbml-listOf sbml-listOfReactions sv-container">\n      <h3 class="sv-header">listOfReactions:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th>reactants/products:</th>\n            <th><xsl:if test="*/*[local-name()=\'listOfModifiers\']">modifiers:</xsl:if></th>\n            <th>math:</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'reaction\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'reaction\']" mode="table">\n    <tr class="sbml-element sbml-functionDefinition">\n      <td><xsl:apply-templates select="@id" mode="link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-mixed"><xsl:apply-templates select="." mode="reactionFormula"/></td>\n      <td class="sbml-listOf sbml-listOfModifiers"><xsl:apply-templates select="*[local-name()=\'listOfModifiers\']" mode="reactionFormula"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="*[local-name()=\'kineticLaw\']/mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']|*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="6">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']" mode="table"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfEvents annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfEvents\']" mode="table">\n    <div class="sbml-listOf sbml-listOfEvents sv-container">\n      <h3 class="sv-header">listOfEvents:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@name">sboTerm</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th><xsl:if test="*/@useValuesFromTriggerTime">useValuesFrom TriggerTime</xsl:if></th>\n            <th>trigger</th>\n            <th>delay</th>\n            <th>priority</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'event\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'event\']" mode="table">\n    <tr class="sbml-element sbml-event">\n      <td><xsl:apply-templates select="@id" mode="no-link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-sboTerm"><xsl:value-of select="@sboTerm"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-attribute-value sbml-useValuesFromTriggerTime"><xsl:value-of select="@useValuesFromTriggerTime"/></td>\n      <td class="sbml-element sbml-trigger sbml-math sv-mml"><xsl:apply-templates select="*[local-name()=\'trigger\']" mode="table"/></td>\n      <td class="sbml-element sbml-delay sbml-math sv-mml"><xsl:apply-templates select="*[local-name()=\'delay\']" mode="table"/></td>\n      <td class="sbml-element sbml-priority"><xsl:apply-templates select="@priority"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']\n      |./*[local-name()=\'annotation\']\n      |*[local-name()=\'listOfEventAssignments\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="6">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'listOfEventAssignments\']" mode="table"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'trigger\']" mode="table">\n    <xsl:apply-templates select="mml:math"/>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'delay\']" mode="table">\n    <xsl:apply-templates select="mml:math"/>\n  </xsl:template>\n\n  \x3c!-- listOfEventAssignments annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfEventAssignments\']" mode="table">\n    <div class="sbml-listOf sbml-listOfEventAssignments sv-container">\n      <h3 class="sv-header">listOfEventAssignments:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>variable</th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th>math:</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'eventAssignment\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'eventAssignment\']" mode="table">\n    <tr class="sbml-element sbml-eventAssignment">\n      <td><xsl:apply-templates select="@variable"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="3">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'unitDefinition\']/@name" mode="table">\n    <xsl:value-of select="."/>\n  </xsl:template>\n\n  \x3c!-- message type: just copy --\x3e\n  <xsl:template match="*[local-name()=\'message\']" mode="table">\n    <xsl:copy-of select="node()"/>\n  </xsl:template>\n\n  \x3c!-- do nothing if nothing to output--\x3e\n  <xsl:template match="*" mode="table">\n    = missing in xslt: <xsl:value-of select="local-name()"/>=\n  </xsl:template>\n\n\x3c!-- END OF table mode --\x3e\n\n\x3c!-- BEGIN OF unitFormula/unitFormulaScale mode --\x3e\n  \x3c!-- ???  <xsl:template match="l2v2:listOfUnits\n      | l2v3:listOfUnits\n      | l2v4:listOfUnits\n      | l2v5:listOfUnits" mode="unitFormula">\n      <xsl:apply-templates select="*[local-name()=\'unit\']" mode="unitFormula"/>\n    </xsl:template> --\x3e\n\n    <xsl:template match="*[local-name()=\'unit\' and @exponent!=\'1\']" mode="unitFormula">\n        (<xsl:if test="@multiplier!=\'1\'"><xsl:value-of select="@multiplier"/>&#8901;</xsl:if><xsl:if test="@scale!=\'0\'">10<sup><xsl:value-of select="@scale"/></sup></xsl:if><xsl:value-of select="@kind"/>)\n        <sup><xsl:value-of select="@exponent"/></sup>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'unit\' and not(@exponent!=\'1\')]" mode="unitFormula">\n          (<xsl:if test="@multiplier!=\'1\'"><xsl:value-of select="@multiplier"/>&#8901;</xsl:if><xsl:if test="@scale!=\'0\'">10<sup><xsl:value-of select="@scale"/></sup></xsl:if><xsl:value-of select="@kind"/>)\n    </xsl:template>\n\n    \x3c!-- ??? <xsl:template match="l2v1:listOfUnits" mode="unitFormula">\n      <span class="error">= not supported for l2v1 =</span>\n    </xsl:template> --\x3e\n\x3c!-- END OF unitFormula/unitFormulaScale mode --\x3e\n\n\x3c!-- BEGIN OF idOrName mode --\x3e\n  <xsl:template match="@id" mode="idOrName">\n      <xsl:if test="$useNames=\'true\' and count(./../@name)>0">[<xsl:value-of select="./../@name"/>]</xsl:if>  \x3c!-- for simbio only--\x3e\n      <xsl:if test="$useNames=\'true\' and count(./../@name)=0">[no name]</xsl:if>\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="."/></xsl:if>\n  </xsl:template>\n\x3c!-- END OF idOrName mode --\x3e\n\n\x3c!-- BEGIN OF reactionFormula mode --\x3e\n  <xsl:template match="*[local-name()=\'reaction\']" mode="reactionFormula">\n    <xsl:if test="count(*[local-name()=\'listOfReactants\']/*[local-name()=\'speciesReference\'])=0">&#8709;</xsl:if>\n    <xsl:apply-templates select="*[local-name()=\'listOfReactants\']" mode="reactionFormula"/>\n    <xsl:if test="@reversible=\'false\' and @fast=\'true\'"> &#8594; </xsl:if>\n    <xsl:if test="not(@reversible=\'false\') and @fast=\'true\'"> &#8596; </xsl:if>\n    <xsl:if test="@reversible=\'false\' and not(@fast=\'true\')"> &#8658; </xsl:if>\n    <xsl:if test="not(@reversible=\'false\') and not(@fast=\'true\')"> &#8660; </xsl:if>\n    <xsl:if test="count(*[local-name()=\'listOfProducts\']/*[local-name()=\'speciesReference\'])=0">&#8709;</xsl:if>\n    <xsl:apply-templates select="*[local-name()=\'listOfProducts\']" mode="reactionFormula"/>\n  </xsl:template>\n\n  \x3c!-- listOfReactants / listOfProducts--\x3e\n  <xsl:template match="*[local-name()=\'listOfReactants\']\n    | *[local-name()=\'listOfProducts\']" mode="reactionFormula">\n    <xsl:for-each select="*[local-name()=\'speciesReference\']">\n      <xsl:if test="@stoichiometry!=\'1\' and @constant=\'false\'"><xsl:value-of select="@stoichiometry"/>&#215;</xsl:if>\n      <xsl:if test="@stoichiometry!=\'1\' and @constant=\'true\'"><xsl:value-of select="@id"/>&#215;</xsl:if>\n      <xsl:apply-templates select="@species"/>\n      <xsl:if test="position()!=last()"> + </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  \x3c!-- listOfModifiers--\x3e\n  <xsl:template match="*[local-name()=\'listOfModifiers\']" mode="reactionFormula">\n    <xsl:for-each select="*[local-name()=\'modifierSpeciesReference\']">\n\t  <xsl:apply-templates select="@species"/>\n      <xsl:if test="position()!=last()">; </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\x3c!-- END OF reactionFormula mode --\x3e\n\n\x3c!-- BEGIN OF mml: part, =TO DO= include $correctMathml switcher, correction of SimBiology specific functions --\x3e\n  \x3c!-- correct for max function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside max --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- correct for min function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside min --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- use id or names for equations and normalize space --\x3e\n  <xsl:template match="mml:ci">\n    <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:if test="$useNames=\'true\' and key(\'idKey\',normalize-space(text()))/@name">[<xsl:value-of select="key(\'idKey\',normalize-space(text()))/@name"/>]</xsl:if>\n      <xsl:if test="$useNames=\'true\' and not(key(\'idKey\',normalize-space(text()))/@name)">[no name]</xsl:if>\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="normalize-space(text())"/></xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of e-notation for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'e-notation\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text()[1])"/><xsl:if test="normalize-space(text()[2])!=\'0\'">e<xsl:copy-of select="normalize-space(text()[2])"/>\n      </xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of integer for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'integer\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text())"/>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- just copy mml or not --\x3e\n  <xsl:template match="mml:math">\n    <xsl:if test="$equationsOff=\'true\'"><span class="sv-hidden">Equations are hidden</span></xsl:if>\n    <xsl:if test="not($equationsOff=\'true\')">\n      <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n    </xsl:if>\n  </xsl:template>\n\n  <xsl:template match="mml:*">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n  </xsl:template>\n\n  <xsl:template match="mml:lambda">\n   <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n    <xsl:element name="equivalent" namespace="http://www.w3.org/1998/Math/MathML"/>\n    <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">f</xsl:element>\n      <xsl:copy-of select="mml:bvar/mml:*"/>\n    </xsl:element>\n    <xsl:copy-of select="*[local-name()!=\'bvar\']"/>\n\n   </xsl:element>\n  </xsl:template>\n\x3c!-- END OF mml: part --\x3e\n</xsl:stylesheet>\n'},pMFH:function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n\x3c!--\nCopyright 2016-2021 InSysBio, LLC\n\nLicensed under the Apache License, Version 2.0 (the "License");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an "AS IS" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n--\x3e\n\x3c!-- INFO\nDescription: Creating representation of whole sbml into table format.\nSource files: SBML L2 V1-5\nmodes:\n  - table\n  - reactionFormula\n  - idOrName\n  - unitFormula/unitFormulaScale\n  - link/no-link\n  - element\n\nAuthor: Evgeny Metelkin\nProject-page: http://sv.insysbio.com\n--\x3e\n<xsl:stylesheet version="1.0"\n  xmlns="http://www.w3.org/1999/xhtml"\n  xmlns:xhtml="http://www.w3.org/1999/xhtml"\n  xmlns:l2v1="http://www.sbml.org/sbml/level2"\n  xmlns:l2v2="http://www.sbml.org/sbml/level2/version2"\n  xmlns:l2v3="http://www.sbml.org/sbml/level2/version3"\n  xmlns:l2v4="http://www.sbml.org/sbml/level2/version4"\n  xmlns:l2v5="http://www.sbml.org/sbml/level2/version5"\n  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"\n  xmlns:mml="http://www.w3.org/1998/Math/MathML"\n  exclude-result-prefixes="mml xhtml l2v1 l2v2 l2v3 l2v4 l2v5">\n\n  \x3c!-- GLOBAL KEYS --\x3e\n  <xsl:key name="idKey" match="*" use="@id"/>\n  <xsl:key name="variableKey" match="*" use="@variable"/>\n\n  \x3c!-- PARAMETERS --\x3e\n  <xsl:param name="useNames">false</xsl:param> \x3c!-- use names instead of id in equations --\x3e\n  <xsl:param name="correctMathml">false</xsl:param> \x3c!-- use correction in MathML (for simbio) always on currently--\x3e\n  <xsl:param name="equationsOff">false</xsl:param> \x3c!-- do not show equations --\x3e\n\n  \x3c!-- top --\x3e\n  <xsl:template match="/">\n    <xsl:apply-templates mode="table"/>\n  </xsl:template>\n\n  \x3c!-- SBML --\x3e\n  <xsl:template match="*[local-name()=\'sbml\']" mode="table">\n    <div class="sbml-element sbml-sbml sv-container sv-mode-table">\n      <h1 class="sv-header">SBML level <xsl:value-of select="@level"/> version <xsl:value-of select="@version"/></h1>\n      <div class="sv-content">\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'model\']" mode="table"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- model --\x3e\n  <xsl:template match="*[local-name()=\'model\']" mode="table">\n    <div class="sbml-element sbml-model sv-container">\n      <h2 class="sv-header">Model</h2>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:apply-templates select="*[contains(local-name(), \'listOf\')]" mode="table"/>\n      </div>\n    </div>\n  </xsl:template>\n\n  \x3c!-- annotation --\x3e\n  <xsl:template match="*[local-name()=\'annotation\']" mode="element">\n    <div class="sbml-element sbml-annotation sv-container">\n      <p class="sv-header sbml-element-name">Annotation</p>\n      <pre class="sv-content sv-raw-xml prettyprint"><xsl:copy-of select="node()"/></pre>\n    </div>\n  </xsl:template>\n\n  \x3c!-- notes --\x3e\n  <xsl:template match="*[local-name()=\'notes\']" mode="element">\n    <div class="sbml-element sbml-notes sv-container">\n      <p class="sv-header sbml-element-name">Notes</p>\n      <div class="sv-content sv-xhtml">\n        <xsl:copy-of select="node()"/>\n      </div>\n    </div>\n  </xsl:template>\n\n\x3c!--\n  <xsl:template match="*[local-name()=\'notes\' and xhtml:body]" mode="element">\n   <p><strong>notes:</strong></p>\n   <div class="note-content">\n    <xsl:copy-of select="xhtml:body/node()"/>\n   </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'notes\' and xhtml:html[xhtml:body]]" mode="element">\n   <p><strong>notes:</strong></p>\n   <div class="note-content">\n    <xsl:copy-of select="xhtml:html/xhtml:body/node()"/>\n   </div>\n  </xsl:template>\n--\x3e\n\n  \x3c!-- @attributes --\x3e\n  <xsl:template match="@*" mode="element">\n    <p>\n      <xsl:attribute name="class">sbml-attribute sbml-<xsl:value-of select="local-name()"/> sv-container</xsl:attribute>\n      <span class="sbml-attribute-name"><xsl:value-of select="local-name()"/></span>: <span class="sbml-attribute-value"><xsl:value-of select="."/></span>\n    </p>\n  </xsl:template>\n\n  \x3c!-- id --\x3e\n  <xsl:template match="@id" mode="link">\n    <span class="sbml-attribute-value sbml-id">\n      <xsl:attribute name="id"><xsl:value-of select="."/></xsl:attribute>\n      <xsl:value-of select="."/>\n    </span>\n  </xsl:template>\n\n  <xsl:template match="@id" mode="no-link">\n    <span class="sbml-attribute-value sbml-id">\n      <xsl:value-of select="."/>\n    </span>\n  </xsl:template>\n\n\t\x3c!-- SId object: internal ref --\x3e\n  <xsl:template\n    match="@species\n      |@substanceUnits\n      |@units\n      |@compartment\n      |@speciesType\n      |@compartmentType\n      |@outside\n      |@symbol\n      |@variable">\n    <xsl:if test="not(key(\'idKey\',.))">\n      <span>\n        <xsl:attribute name="class">sbml-attribute-value sbml-<xsl:value-of select="local-name()"/> sbml-id-lost</xsl:attribute>\n        <xsl:value-of select="."/>\n      </span>\n    </xsl:if>\n\n    <xsl:if test="key(\'idKey\',.)">\n      <span>\n        <xsl:attribute name="class">sbml-attribute-value sbml-<xsl:value-of select="local-name()"/> sbml-id-ref</xsl:attribute>\n        <xsl:apply-templates select="key(\'idKey\',.)/@id" mode="idOrName"/>\n      </span>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfFunctionDefinitions --\x3e\n  <xsl:template match="*[local-name()=\'listOfFunctionDefinitions\']" mode="table">\n    <div class="sbml-listOf sbml-listOfFunctionDefinitions sv-container">\n      <h3 class="sv-header">listOfFunctionDefinitions:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th>math</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'functionDefinition\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'functionDefinition\']" mode="table">\n      <tr class="sbml-element sbml-functionDefinition">\n        <td><xsl:apply-templates select="@id" mode="no-link"/></td>\n        <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n        <td class="sbml-attribute-value sbml-metaid"><xsl:apply-templates select="@metaid" mode="table"/></td>\n        <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n      </tr>\n      <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n      <tr class="sbml-mixed sv-hidden">\n        <td colspan="4">\n          <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n          <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        </td>\n      </tr>\n      </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfUnitDefinitions --\x3e\n  <xsl:template match="*[local-name()=\'listOfUnitDefinitions\']" mode="table">\n    <div class="sbml-listOf sbml-listOfUnitDefinitions sv-container">\n      <h3 class="sv-header">listOfUnitDefinitions:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n        <tr>\n          <th>id</th>\n          <th><xsl:if test="*/@name">name</xsl:if></th>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          <th>listOfUnits</th>\n        </tr>\n        <xsl:apply-templates select="*[local-name()=\'unitDefinition\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'unitDefinition\']" mode="table">\n      <tr class="sbml-element sbml-unitDefinition">\n        <td><xsl:apply-templates select="@id" mode="no-link"/></td>\n        <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n        <td class="sbml-attribute-value sbml-metaid"><xsl:apply-templates select="@metaid" mode="table"/></td>\n        <td class="sbml-listOf sbml-listOfUnitDefinition"><xsl:apply-templates select="*[local-name()=\'listOfUnits\']" mode="unitFormula"/></td>\n      </tr>\n      <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n      <tr class="sbml-mixed sv-hidden">\n        <td colspan="4">\n          <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n          <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        </td>\n      </tr>\n      </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfCompartmentTypes --\x3e\n  <xsl:template match="*[local-name()=\'listOfCompartmentTypes\']" mode="table">\n    <div class="sbml-listOf sbml-listOfCompartmentTypes sv-container">\n      <h3 class="sv-header">listOfCompartmentTypes:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'compartmentType\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'compartmentType\']" mode="table">\n    <tr class="sbml-element sbml-compartmentType">\n      <td><xsl:apply-templates select="@id" mode="no-link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="3">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfSpeciesTypes --\x3e\n  <xsl:template match="*[local-name()=\'listOfSpeciesTypes\']" mode="table">\n    <div class="sbml-listOf sbml-listOfSpeciesTypes sv-container">\n      <h3 class="sv-header">listOfSpeciesTypes:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n        <tr>\n          <th>id</th>\n          <th><xsl:if test="*/@name">name</xsl:if></th>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n        </tr>\n        <xsl:apply-templates select="*[local-name()=\'speciesType\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'speciesType\']" mode="table">\n    <tr class="sbml-element sbml-speciesType">\n      <td><xsl:apply-templates select="@id" mode="no-link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:apply-templates select="@metaid" mode="table"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="3">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfCompartments --\x3e\n  <xsl:template match="*[local-name()=\'listOfCompartments\']" mode="table">\n    <div class="sbml-listOf sbml-listOfCompartments sv-container">\n      <h3 class="sv-header">listOfCompartments:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table class="sv-listof-table">\n        <tr>\n          <th>id</th>\n          <th><xsl:if test="*/@name">name</xsl:if></th>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          <th><xsl:if test="*/@constant">constant</xsl:if></th>\n          <th><xsl:if test="*/@compartmentType">compartment Type</xsl:if></th>\n          <th><xsl:if test="*/@outside">outside</xsl:if></th>\n          <th><xsl:if test="*/@units">units</xsl:if></th>\n          <th><xsl:if test="*/@size">size</xsl:if></th>\n          <th><xsl:if test="*/@spatialDimensions">spatial Dimensions</xsl:if></th>\n        </tr>\n        <xsl:apply-templates select="*[local-name()=\'compartment\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'compartment\']" mode="table">\n      <tr class="sbml-element sbml-compartment">\n        <td><xsl:apply-templates select="@id" mode="link"/></td>\n        <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n        <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n        <td class="sbml-attribute-value sbml-constant"><xsl:value-of select="@constant"/></td>\n        <td class="sbml-attribute-value sbml-compartment"><xsl:apply-templates select="@compartmentType"/></td>\n        <td class="sbml-attribute-value sbml-outside"><xsl:apply-templates select="@outside"/></td>\n        <td class="sbml-attribute-value sbml-units"><xsl:apply-templates select="@units"/></td>\n        <td class="sbml-attribute-value sbml-size"><xsl:value-of select="@size"/></td>\n        <td class="sbml-attribute-value sbml-spatialDimensions"><xsl:value-of select="@spatialDimensions"/></td>\n      </tr>\n      <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n      <tr class="sbml-mixed sv-hidden">\n        <td colspan="7">\n          <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n          <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        </td>\n      </tr>\n      </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfSpecies --\x3e\n  <xsl:template match="*[local-name()=\'listOfSpecies\']" mode="table">\n    <div class="sbml-listOf sbml-listOfSpecies sv-container">\n      <h3 class="sv-header">listOfSpecies:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th><xsl:if test="*/@constant">constant</xsl:if></th>\n            <th><xsl:if test="*/@speciesType">speciesType</xsl:if></th>\n            <th><xsl:if test="*/@substanceUnits">substance Units</xsl:if></th>\n            <th><xsl:if test="*/@hasOnlySubstanceUnits">hasOnly Substance Units</xsl:if></th>\n            <th><xsl:if test="*/@initialConcentration">initial Concentration</xsl:if></th>\n            <th><xsl:if test="*/@initialAmount">initial Amount</xsl:if></th>\n            <th><xsl:if test="*/@boundaryCondition">boundary Condition</xsl:if></th>\n            <th><xsl:if test="*/@compartment">compartment</xsl:if></th>\n            <th><xsl:if test="*/@charge">charge</xsl:if></th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'species\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'species\']" mode="table">\n    <tr class="sbml-element sbml-species">\n      <td><xsl:apply-templates select="@id" mode="link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-attribute-value sbml-constant"><xsl:value-of select="@constant"/></td>\n      <td class="sbml-attribute-value sbml-speciesType"><xsl:apply-templates select="@speciesType"/></td>\n      <td class="sbml-attribute-value sbml-substanceUnits"><xsl:apply-templates select="@substanceUnits"/></td>\n      <td class="sbml-attribute-value sbml-hasOnlySubstanceUnits"><xsl:value-of select="@hasOnlySubstanceUnits"/></td>\n      <td class="sbml-attribute-value sbml-initialConcentration"><xsl:value-of select="@initialConcentration"/></td>\n      <td class="sbml-attribute-value sbml-initialAmount"><xsl:value-of select="@initialAmount"/></td>\n      <td class="sbml-attribute-value sbml-boundaryCondition"><xsl:value-of select="@boundaryCondition"/></td>\n      <td class="sbml-attribute-value sbml-compartment"><xsl:apply-templates select="@compartment"/></td>\n      <td class="sbml-attribute-value sbml-charge"><xsl:value-of select="@charge"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="11">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfParameters --\x3e\n  <xsl:template match="*[local-name()=\'listOfParameters\']" mode="table">\n    <div class="sbml-listOf sbml-listOfParameters sv-container">\n      <h3 class="sv-header">listOfParameters:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th><xsl:if test="*/@constant">constant</xsl:if></th>\n            <th><xsl:if test="*/@units">units</xsl:if></th>\n            <th><xsl:if test="*/@value">value</xsl:if></th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'parameter\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'parameter\']" mode="table">\n    <tr class="sbml-element sbml-parameter">\n      <td><xsl:apply-templates select="@id" mode="link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-attribute-value sbml-constant"><xsl:value-of select="@constant"/></td>\n      <td class="sbml-attribute-value sbml-units"><xsl:apply-templates select="@units"/></td>\n      <td class="sbml-attribute-value sbml-value"><xsl:value-of select="@value"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="5">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfInitialAssignments annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfInitialAssignments\']" mode="table">\n    <div class="sbml-listOf sbml-listOfInitialAssignments sv-container">\n      <h3 class="sv-listof-header">listOfInitialAssignments:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>symbol</th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th>math:</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'initialAssignment\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'initialAssignment\']" mode="table">\n    <tr class="sbml-element sbml-initialAssignment">\n      <td><xsl:apply-templates select="@symbol"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="3">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfConstraints annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfConstraints\']" mode="table">\n    <div class="sbml-listOf sbml-listOfConstraints sv-container">\n      <h3 class="sv-header">listOfConstraints:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n        <tr>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          <th><xsl:if test="*/*[local-name()=\'message\']">message</xsl:if></th>\n          <th>math:</th>\n        </tr>\n          <xsl:apply-templates select="*[local-name()=\'constraint\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'constraint\']" mode="table">\n    <tr class="sbml-element sbml-constraint">\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-element sbml-message"><xsl:apply-templates select="*[local-name()=\'message\']" mode="table"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="3">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfRules annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfRules\']" mode="table">\n    <div class="sbml-listOf sbml-listOfRules sv-container">\n      <h3 class="sv-header">listOfRules:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n        <tr>\n    \t    <th>type</th>\n          <th>variable</th>\n          <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n          <th>math:</th>\n        </tr>\n        <xsl:apply-templates select="*[local-name()=\'assignmentRule\'] | *[local-name()=\'algebraicRule\'] | *[local-name()=\'rateRule\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'assignmentRule\']\n    |*[local-name()=\'algebraicRule\']\n    |*[local-name()=\'rateRule\']" mode="table">\n    <tr>\n      <xsl:attribute name="class">sbml-element sbml-<xsl:value-of select="local-name()"/></xsl:attribute>\n      <td><xsl:value-of select="local-name()"/></td>\n      <td><xsl:apply-templates select="@variable"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="4">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfReactions annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfReactions\']" mode="table">\n    <div class="sbml-listOf sbml-listOfReactions sv-container">\n      <h3 class="sv-header">listOfReactions:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th>reactants/products:</th>\n            <th><xsl:if test="*/*[local-name()=\'listOfModifiers\']">modifiers:</xsl:if></th>\n            <th>math:</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'reaction\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'reaction\']" mode="table">\n    <tr class="sbml-element sbml-functionDefinition">\n      <td><xsl:apply-templates select="@id" mode="link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-mixed"><xsl:apply-templates select="." mode="reactionFormula"/></td>\n      <td class="sbml-listOf sbml-listOfModifiers"><xsl:apply-templates select="*[local-name()=\'listOfModifiers\']" mode="reactionFormula"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="*[local-name()=\'kineticLaw\']/mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']|*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="6">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'kineticLaw\']/*[local-name()=\'listOfParameters\']" mode="table"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  \x3c!-- listOfEvents annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfEvents\']" mode="table">\n    <div class="sbml-listOf sbml-listOfEvents sv-container">\n      <h3 class="sv-header">listOfEvents:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>id</th>\n            <th><xsl:if test="*/@name">name</xsl:if></th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th><xsl:if test="*/@useValuesFromTriggerTime">useValuesFrom TriggerTime</xsl:if></th>\n            <th>trigger</th>\n            <th>delay</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'event\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'event\']" mode="table">\n    <tr class="sbml-element sbml-event">\n      <td><xsl:apply-templates select="@id" mode="no-link"/></td>\n      <td class="sbml-attribute-value sbml-name"><xsl:value-of select="@name"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-attribute-value sbml-useValuesFromTriggerTime"><xsl:value-of select="@useValuesFromTriggerTime"/></td>\n      <td class="sbml-element sbml-trigger sbml-math sv-mml"><xsl:apply-templates select="*[local-name()=\'trigger\']" mode="table"/></td>\n      <td class="sbml-element sbml-delay sbml-math sv-mml"><xsl:apply-templates select="*[local-name()=\'delay\']" mode="table"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']\n      |./*[local-name()=\'annotation\']\n      |*[local-name()=\'listOfEventAssignments\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="6">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'listOfEventAssignments\']" mode="table"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'trigger\']" mode="table">\n    <xsl:apply-templates select="mml:math"/>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'delay\']" mode="table">\n    <xsl:apply-templates select="mml:math"/>\n  </xsl:template>\n\n  \x3c!-- listOfEventAssignments annotation --\x3e\n  <xsl:template match="*[local-name()=\'listOfEventAssignments\']" mode="table">\n    <div class="sbml-listOf sbml-listOfEventAssignments sv-container">\n      <h3 class="sv-header">listOfEventAssignments:</h3>\n      <div class="sbml-mixed sv-content">\n        <xsl:apply-templates select="@*" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="*[local-name()=\'annotation\']" mode="element"/>\n        <table>\n          <tr>\n            <th>variable</th>\n            <th><xsl:if test="*/@metaid">metaid</xsl:if></th>\n            <th>math:</th>\n          </tr>\n          <xsl:apply-templates select="*[local-name()=\'eventAssignment\']" mode="table"/>\n        </table>\n      </div>\n    </div>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'eventAssignment\']" mode="table">\n    <tr class="sbml-element sbml-eventAssignment">\n      <td><xsl:apply-templates select="@variable"/></td>\n      <td class="sbml-attribute-value sbml-metaid"><xsl:value-of select="@metaid"/></td>\n      <td class="sbml-element sbml-math sv-mml"><xsl:apply-templates select="mml:math"/></td>\n    </tr>\n    <xsl:if test="./*[local-name()=\'notes\']|./*[local-name()=\'annotation\']">\n    <tr class="sbml-mixed sv-hidden">\n      <td colspan="3">\n        <xsl:apply-templates select="./*[local-name()=\'notes\']" mode="element"/>\n        <xsl:apply-templates select="./*[local-name()=\'annotation\']" mode="element"/>\n      </td>\n    </tr>\n    </xsl:if>\n  </xsl:template>\n\n  <xsl:template match="*[local-name()=\'unitDefinition\']/@name" mode="table">\n    <xsl:value-of select="."/>\n  </xsl:template>\n\n  \x3c!-- message type: just copy --\x3e\n  <xsl:template match="*[local-name()=\'message\']" mode="table">\n    <xsl:copy-of select="node()"/>\n  </xsl:template>\n\n  \x3c!-- do nothing if nothing to output--\x3e\n  <xsl:template match="*" mode="table">\n    = missing in xslt: <xsl:value-of select="local-name()"/>=\n  </xsl:template>\n\n\x3c!-- END OF table mode --\x3e\n\n\x3c!-- BEGIN OF unitFormula/unitFormulaScale mode --\x3e\n    <xsl:template match="l2v2:listOfUnits\n      | l2v3:listOfUnits\n      | l2v4:listOfUnits\n      | l2v5:listOfUnits" mode="unitFormula">\n      <xsl:apply-templates select="*[local-name()=\'unit\']" mode="unitFormula"/>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'unit\' and @exponent!=\'1\']" mode="unitFormula">\n        (<xsl:if test="@multiplier!=\'1\'"><xsl:value-of select="@multiplier"/>&#8901;</xsl:if><xsl:if test="@scale!=\'0\'">10<sup><xsl:value-of select="@scale"/></sup></xsl:if><xsl:value-of select="@kind"/>)\n        <sup><xsl:value-of select="@exponent"/></sup>\n    </xsl:template>\n\n    <xsl:template match="*[local-name()=\'unit\' and not(@exponent!=\'1\')]" mode="unitFormula">\n          (<xsl:if test="@multiplier!=\'1\'"><xsl:value-of select="@multiplier"/>&#8901;</xsl:if><xsl:if test="@scale!=\'0\'">10<sup><xsl:value-of select="@scale"/></sup></xsl:if><xsl:value-of select="@kind"/>)\n    </xsl:template>\n\n    <xsl:template match="l2v1:listOfUnits" mode="unitFormula">\n      <span class="error">= not supported for l2v1 =</span>\n    </xsl:template>\n\x3c!-- END OF unitFormula/unitFormulaScale mode --\x3e\n\n\x3c!-- BEGIN OF idOrName mode --\x3e\n  <xsl:template match="@id" mode="idOrName">\n      <xsl:if test="$useNames=\'true\' and count(./../@name)>0">[<xsl:value-of select="./../@name"/>]</xsl:if>  \x3c!-- for simbio only--\x3e\n      <xsl:if test="$useNames=\'true\' and count(./../@name)=0">[no name]</xsl:if>\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="."/></xsl:if>\n  </xsl:template>\n\x3c!-- END OF idOrName mode --\x3e\n\n\x3c!-- BEGIN OF reactionFormula mode --\x3e\n  <xsl:template match="*[local-name()=\'reaction\']" mode="reactionFormula">\n    <xsl:if test="count(*[local-name()=\'listOfReactants\']/*[local-name()=\'speciesReference\'])=0">&#8709;</xsl:if>\n    <xsl:apply-templates select="*[local-name()=\'listOfReactants\']" mode="reactionFormula"/>\n    <xsl:if test="@reversible=\'false\' and @fast=\'true\'"> &#8594; </xsl:if>\n    <xsl:if test="not(@reversible=\'false\') and @fast=\'true\'"> &#8596; </xsl:if>\n    <xsl:if test="@reversible=\'false\' and not(@fast=\'true\')"> &#8658; </xsl:if>\n    <xsl:if test="not(@reversible=\'false\') and not(@fast=\'true\')"> &#8660; </xsl:if>\n    <xsl:if test="count(*[local-name()=\'listOfProducts\']/*[local-name()=\'speciesReference\'])=0">&#8709;</xsl:if>\n    <xsl:apply-templates select="*[local-name()=\'listOfProducts\']" mode="reactionFormula"/>\n  </xsl:template>\n\n  \x3c!-- listOfReactants / listOfProducts--\x3e\n  <xsl:template match="*[local-name()=\'listOfReactants\']\n    | *[local-name()=\'listOfProducts\']" mode="reactionFormula">\n    <xsl:for-each select="*[local-name()=\'speciesReference\']">\n      <xsl:if test="@stoichiometry!=\'1\'"><xsl:value-of select="@stoichiometry"/>&#215;</xsl:if>\n\t  <xsl:apply-templates select="@species"/>\n      <xsl:if test="position()!=last()"> + </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\n  \x3c!-- listOfModifiers--\x3e\n  <xsl:template match="*[local-name()=\'listOfModifiers\']" mode="reactionFormula">\n    <xsl:for-each select="*[local-name()=\'modifierSpeciesReference\']">\n\t  <xsl:apply-templates select="@species"/>\n      <xsl:if test="position()!=last()">; </xsl:if>\n    </xsl:for-each>\n  </xsl:template>\n\x3c!-- END OF reactionFormula mode --\x3e\n\n\x3c!-- BEGIN OF mml: part, =TO DO= include $correctMathml switcher, correction of SimBiology specific functions --\x3e\n  \x3c!-- correct for max function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside max --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'max\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="max" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- correct for min function --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:ci]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- exclude vertcat inside min --\x3e\n  <xsl:template match="mml:apply[*[1][self::mml:ci][normalize-space(text())=\'min\'][following-sibling::mml:apply]]">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:element name="min" namespace="http://www.w3.org/1998/Math/MathML"/>\n      <xsl:apply-templates select="*[2]/*[position()&gt;1]"/>\n    </xsl:copy>\n  </xsl:template>\n\n  \x3c!-- use id or names for equations and normalize space --\x3e\n  <xsl:template match="mml:ci">\n    <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:if test="$useNames=\'true\' and key(\'idKey\',normalize-space(text()))/@name">[<xsl:value-of select="key(\'idKey\',normalize-space(text()))/@name"/>]</xsl:if>\n      <xsl:if test="$useNames=\'true\' and not(key(\'idKey\',normalize-space(text()))/@name)">[no name]</xsl:if>\n      <xsl:if test="not($useNames=\'true\')"><xsl:value-of select="normalize-space(text())"/></xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of e-notation for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'e-notation\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text()[1])"/><xsl:if test="normalize-space(text()[2])!=\'0\'">e<xsl:copy-of select="normalize-space(text()[2])"/>\n      </xsl:if>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- adaptation of integer for MathJax --\x3e\n  <xsl:template match="mml:cn[@type=\'integer\']">\n    <xsl:element name="cn" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:copy-of select="normalize-space(text())"/>\n    </xsl:element>\n  </xsl:template>\n\n  \x3c!-- just copy mml or not --\x3e\n  <xsl:template match="mml:math">\n    <xsl:if test="$equationsOff=\'true\'"><span class="sv-hidden">Equations are hidden</span></xsl:if>\n    <xsl:if test="not($equationsOff=\'true\')">\n      <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n    </xsl:if>\n  </xsl:template>\n\n  <xsl:template match="mml:*">\n    <xsl:copy>\n      <xsl:copy-of select="@*"/>\n      <xsl:apply-templates/>\n    </xsl:copy>\n  </xsl:template>\n\n  <xsl:template match="mml:lambda">\n   <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n    <xsl:element name="equivalent" namespace="http://www.w3.org/1998/Math/MathML"/>\n    <xsl:element name="apply" namespace="http://www.w3.org/1998/Math/MathML">\n      <xsl:element name="ci" namespace="http://www.w3.org/1998/Math/MathML">f</xsl:element>\n      <xsl:copy-of select="mml:bvar/mml:*"/>\n    </xsl:element>\n    <xsl:copy-of select="*[local-name()!=\'bvar\']"/>\n\n   </xsl:element>\n  </xsl:template>\n\x3c!-- END OF mml: part --\x3e\n</xsl:stylesheet>\n'},pgp6:function(e,t){},pkMC:function(e,t,l){"use strict";l("/Jxb")},"q+rZ":function(e,t,l){"use strict";var n,s=l("oCYn");((n=s)&&n.__esModule?n:{default:n}).default.directive("dom",{bind:function(e,t,l){e.children&&e.children[0]&&e.removeChild(e.children[0]),t.value&&e.appendChild(t.value)},update:function(e,t,l){e.children&&e.children[0]&&e.removeChild(e.children[0]),t.value&&e.appendChild(t.value)}})},srgb:function(e,t,l){"use strict";var n=l("pMFH"),s=l("MEaT"),a=l("fsqG"),m=l("lhgn"),i=l("nz2B"),o=l("aDji");e.exports=function(e){var t=e.parseFromString(n,"application/xml"),l=e.parseFromString(s,"application/xml"),c=e.parseFromString(a,"application/xml"),p=e.parseFromString(m,"application/xml");return[{format:"SBML",level:"2",name:"sbml2heta",xslt:p,parameters:["fullForm"],parameterNotes:{fullForm:"Display aux property, i.e. unused properties from SBML."}},{format:"SBML",level:"2",name:"sbml2table",xslt:t,parameters:["useNames","correctMathml","equationsOff"],parameterNotes:{useNames:'Use "names" attribute instead of "id" attribute. Turn on the option for models with very long or uninformative ids',correctMathml:"Make some correction for MathML generated by SimBiology. Some of SimBiology models generate wrong MathML. Try this option if something looks wrong in equations.",equationsOff:"Use this option if you are not interested in math. It reduces time of transformation."}},{format:"SBML",level:"2",name:"sbml2math",xslt:l,parameters:["useNames","correctMathml","equationsOff"],parameterNotes:{useNames:'Use "names" attribute instead of "id" attribute. Turn on the option for models with very long or uninformative ids',correctMathml:"Make some correction for MathML generated by SimBiology. Some of SimBiology models generate wrong MathML. Try this option if something looks wrong in equations.",equationsOff:"Use this option if you are not interested in math. It reduces time of transformation."}},{format:"SBML",level:"2",name:"sbml2element",xslt:c,parameters:["useNames","correctMathml","equationsOff","elementId"],parameterNotes:{useNames:'Use "names" attribute instead of "id" attribute. Turn on the option for models with very long or uninformative ids',correctMathml:"Make some correction for MathML generated by SimBiology. Some of SimBiology models generate wrong MathML. Try this option if something looks wrong in equations.",equationsOff:"Use this option if you are not interested in math. It reduces time of transformation."}},{format:"SBML",level:"3",name:"sbml3heta",xslt:p,parameters:["fullForm"],parameterNotes:{fullForm:"Display aux property, i.e. unused properties from SBML."}},{format:"SBML",level:"3",name:"sbml3table",xslt:e.parseFromString(i,"application/xml"),parameters:["useNames","correctMathml","equationsOff"],parameterNotes:{useNames:'Use "names" attribute instead of "id" attribute. Turn on the option for models with very long or uninformative ids',correctMathml:"Make some correction for MathML generated by SimBiology. Some of SimBiology models generate wrong MathML. Try this option if something looks wrong in equations.",equationsOff:"Use this option if you are not interested in math. It reduces time of transformation."}},{format:"SBML",level:"3",name:"sbml3math",xslt:e.parseFromString(o,"application/xml"),parameters:["useNames","correctMathml","equationsOff"],parameterNotes:{useNames:'Use "names" attribute instead of "id" attribute. Turn on the option for models with very long or uninformative ids',correctMathml:"Make some correction for MathML generated by SimBiology. Some of SimBiology models generate wrong MathML. Try this option if something looks wrong in equations.",equationsOff:"Use this option if you are not interested in math. It reduces time of transformation."}},{format:"SBML",level:"3",name:"sbml2element",xslt:c,parameters:["useNames","correctMathml","equationsOff","elementId"],parameterNotes:{useNames:'Use "names" attribute instead of "id" attribute. Turn on the option for models with very long or uninformative ids',correctMathml:"Make some correction for MathML generated by SimBiology. Some of SimBiology models generate wrong MathML. Try this option if something looks wrong in equations.",equationsOff:"Use this option if you are not interested in math. It reduces time of transformation."}}]}},u5dd:function(e,t,l){"use strict";l.r(t);var n=l("834V"),s=l.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return n[e]})}(a);t.default=s.a},w7j0:function(e,t,l){"use strict";l.r(t);var n=l("keBJ"),s=l.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){l.d(t,e,function(){return n[e]})}(a);t.default=s.a},yjXX:function(e,t){},zZWu:function(e,t,l){"use strict";l.d(t,"a",function(){return n}),l.d(t,"b",function(){return s});var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"w3-top w3-card-4 w3-blue-grey",attrs:{id:"tool-bar"}},[l("div",{attrs:{id:"optionsArea"}},[l("div",{staticStyle:{float:"left"}},[l("div",{staticClass:"sv-cell w3-padding w3-border-color-white"},[l("input",{staticClass:"file",attrs:{id:"file",type:"file",accept:".xml,.sbml"},on:{change:e.onChooseFileInput}}),l("span",{staticClass:"w3-padding-bottom",attrs:{id:"fileName"}},[e._v(e._s(e.fileName))])]),e._v(" "),0!==Object.keys(e.TTList).length?l("div",{staticClass:"sv-cell w3-border-left w3-border-color-white w3-padding-left w3-padding-right"},[l("select",{directives:[{name:"model",rawName:"v-model",value:e.currentTTName,expression:"currentTTName"}],attrs:{id:"transformationType"},on:{change:[function(t){var l=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.currentTTName=t.target.multiple?l:l[0]},e.onSelectTT]}},e._l(e.TTList,function(t,n){return l("option",{domProps:{value:t.name}},[e._v(e._s(t.name))])}),0)]):e._e(),e._v(" "),0!==Object.keys(e.ListTTParametrs).length?l("div",{staticClass:"sv-cell w3-padding w3-border-left",attrs:{id:"listOptionsCheckbox"}},e._l(e.ListTTParametrs,function(t){return l("div",{staticClass:"sv-cell w3-padding-right w3-tooltip"},[l("p",[l("input",{attrs:{id:t,type:"checkbox"},domProps:{checked:e.stateTTparametrs[t]},on:{change:function(l){return e.toogleParam(t)}}}),e._v(" "),l("label",{attrs:{for:t}},[e._v(e._s(t))])]),e._v(" "),l("p",{staticClass:"w3-text w3-tag w3-tiny w3-animate-opacity noteOptions"},[e._v("\n            "+e._s(e.TTList.find(function(t){return t.name===e.currentTTName}).parameterNotes[t])+"\n          ")])])}),0):e._e(),e._v(" "),e.currentTTName?l("div",{staticClass:"w3-container sv-cell w3-padding w3-border-left w3-border-color-white"},[l("div",{staticClass:"w3-btn w3-blue-grey w3-circle w3-ripple",staticStyle:{"margin-top":"-5px"},attrs:{id:"refresh"},on:{click:e.onRefresh}},[l("i",{staticClass:"w3-xlarge",class:{"w3-spin":e.isSpin,"sv-icon-spinner":e.isSpin,"sv-icon-refresh":!e.isSpin},attrs:{id:"spinner"}})])]):e._e()]),e._v(" "),l("div",{staticClass:"w3-container sv-cell",staticStyle:{float:"right"}},[l("h3",{staticStyle:{margin:"5px 0 5px 0"},attrs:{id:"sv-title"}},[e._v("SbmlViewer v"+e._s(e.version))]),e._v(" "),l("div",{staticClass:"w3-small"},[l("a",{attrs:{href:e.homepage}},[e._v(e._s(e.homepage))])])])])])},s=[]}});